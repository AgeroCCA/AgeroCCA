FORMAT: 1A
HOST: https://api-test.enterprise.agero.com/v1/id

# Digital Dispatch API for Partners
<a name="Introduction"></a>

Digital Dispatch API for Partners allow third party partners applications to share real-time Dispatch Status information with the customer whenever they want it, however they want it. In general, the 4 Dispatch Statuses we will attempt to collect are: in-route, on-scene, tow-in-progress (when applicable), and job-complete. Dispatch Status updates always include timestamps, and sometimes (depending on the technology involved) include geostamps as well.

Agero will convey Dispatch Status information to its customers via 5 different methods: 1) Website, 2) Text Message & Email, 3) IVR, 4) Client-branded Mobile Apps, and 5) Connected Vehicle. In addition to that , Roadside Connect applications will allow third party developers to:

• Create a demo account for sales and marketing purposes

• Capture pictures of the customer’s vehicle for accident events and damage claims

• Incorporate optical character recognition functionality for VIN and odometer

• Implement Beacon Software Tow Spec API

• Implement Driver & truck picture approval capability

• Incorporate the ability for a service provider to scan and send crisp, clear images of receipts & towing documents and upload to a server

• Assign default tow truck image to client’s logo (Cadillac specifically) for Mobile Tech dispatches • Enable a data pop in One Road for dispatches cancelled via Roadside Connect

• Manage the ‘Driver’ role including adding additional profile field data such as name and cell phone

• Mobile Instant Dispatch – allow user(s) with appropriate ‘dispatcher’ credentials to accept/reject dispatch requests for other users/drivers and assign jobs to drivers o This includes profile management (add, edit, view a list of drivers)  

## Security API

The “Security” API is designed to allow client applications to securely use Roadside Connect backend services once the users are 
authenticated and authorized by this API. In order to use this API, the users will have to log into Agero Support at agerosupport.com 
and create a user name and password. Once the users have generated their login credentials, they will be able to log into the client 
application and extend the login session if the application is left idle for a configurable number of minutes. The users will also have the
option to log out of the app if the users do not want to extend the login session or they just simply want to logout at any moment in the time 
from the app.Currently, there are two types of users that can use the Roadside Connect Services:

* Manager/Owner
* Dispatcher
* Driver

A Dispatcher and Manager has the same rights and permissions as the Owner has. They can create and update profiles, accept or reject new jobs, assign jobs to drivers, updated job status and manage fleet map.
A driver can create and update their own profile, update job status for assigned jobs.

## Group Login

In order to login into a Client App, users will have to create a new account in Agerosupport.com.
Users will be able to log into an application by entering the user id and password. The Security API will validate these credentials along with the API key provided by the client application. Once the validation is successful, the Security API will create and return a valid SWT token along with a flag that indicates if the logged in user has to accept a new version of terms & conditions. (If the Terms and Condition flag is true, the client application can follow the terms & conditions accept / decline workflow that is documented in the Terms and Conditions API section of this document).
If the users provide an incorrect username and/or password, security API will return an error code that could be mapped to a user friendly authentication failure message on the client application.

###Sample Request URL

/auth/login

###Request Headers

    Schema Property              Description                        Is Required            Type                 Business Rules    
    ---------------              -----------                        -----------            ----                 --------------
    
    Authorization                Authorization header containing    YES                    String
                                 a base64 encoded string of 
                                 ConsumerKey:ConsumerSecret
                          
                          
###Sample Request Headers

Authorization: THZ3dm8zUWVHaVdOYFtdmRoU1dTUmVaODhzdTg6Qk5nNmF4bklSSm93bThHUw==

###Request JSON

    Schema Property              Description                        Is Required            Type                 Business Rules    
    ---------------              -----------                        -----------            ----                 --------------
    
    Username                    The service provider’s              YES                    String
                                AgeroSupport.com username  

    Password                    The service provider’s              YES                    String
                                AgeroSupport.com password
                                
    clientId                    The IMEI# of the device from        YES                    String
                                which the user is accessing 
                                RoadsideConnect App  
                                
###Response JSON

    Schema Property                         Description                        Is Required            Type                 Business Rules    
    ---------------                         -----------                        -----------            ----                 --------------
    
    userClaim                               The User Claim containing            YES                  UserClaim
                                            role information.  

    Token                                   Valid OAuth 2.0 SWT token             YES                 Token
                                            information.
                                
    ewVersionOfTermsAndConditionsAvailable  Indicator if user has to accept       YES                 Boolean
                                            /decline new revision of terms 
                                            and conditions                                

###Errors 

    HTTP Code       HTTP Reason Phrase                  Message                         Reason 
    ---------       ------------------                  -------                         ------
    
    400             REQUEST_PARAMETER_MISSING           Must provide a username         A username and/or password was 
                                                        and password                    not provided

    401             INVALID_CLIENT                      Client identifier is required   An API key was not supplied
    
    401             INVALID_CLIENT                      Client credentials are invalid  The API key supplied is invalid  
    
    401             INVALID_CREDENTIALS                 Invalid Username or Password    Could not authenticate with the
                                                                                        supplied credentials
                                                                                        
    401             ACCOUNT_LOCKED                      Account is Locked               The User's account is locked
    
    500             UNKNOWN                             Unknown Error                   An unknown error occurred at the server
    
## Login [/auth/login]
## Login [POST]

+ Request (application/json)

    + Header

            Authorization: THZ3dm8zUWVHaVdOYFtdmRoU1dTUmVaODhzdTg6Qk5nNmF4bklSSm93bThHUw==

    + Body

            { 
              "username" : "efudd",
              "password" : "Password123",
              "clientId" : "123456786543210" 
            }
+ Response 200 (application/json)

    + Body

            { 
                "userClaim":
                {
                    “id” : “56789”,
                    "vendorId":“1234”,
                    "username":"efudd",
                    "role":"Driver"
                    "acceptedVersionOfTermsAndConditions": "1.0"
                },
                "token" :
                {
                    "expires_in":1799,
                    "refresh_token":"vyUeuNQrrKvgdQeGh5HpaxtUuV88wQyb",
                    "access_token":"7z9ZeGyweG98YMAyB0iSm2EiB6bD",
                    "refresh_count":0
                },
                "newVersionOfTermsAndConditionsAvailable":"true" 
            }


## Group Refresh Token

###Description
Refresh Token API

The “Refresh Token “ API allows client applications to protect user accounts if the application has been left idle for a certain number of minutes. The inactivity period can be configured in the backend. When the configured expiration time period has passed (without having the user responding to the job requests, assigning jobs, setting job status, or updating profile, driver, facilities, equipment, or other activities), the user will be able to refresh the token or opt to logout of the app.
If the user decides to extend the login session before token expiration, the Refresh Token API will refresh the access token based on the supplied refresh_token.

See: http://tools.ietf.org/html/rfc6749#page-47 for more information.

###Sample Request URL
/auth/refreshToken

###Request Headers

    Schema Property     Description                        Is Required   Type     Business Rules    
    ---------------     -----------                        -----------   ----     --------------
    
    Authorization       Authorization header containing    YES           String
                        a base64 encoded string of 
                        ConsumerKey:ConsumerSecret
                                 
    Content-Type        HTTP Content Type                  YES           String   Must be: application/x-www-form-urlencoded
                          
                          
###Sample Request Headers

Authorization: THZ3dm8zUWVHaVdOYFtdmRoU1dTUmVaODhzdTg6Qk5nNmF4bklSSm93bThHUw==
Content-Type: application/x-www-form-urlencoded

###Request Body

    Form Variable              Description                        Is Required            Type                 Business Rules    
    ---------------            -----------                        -----------            ----                 --------------
    
    grant_type                 OAuth2.0 Grant Type                  YES                  String               Must be: refresh_token

    refresh_token              Valid OAuth2.0 refresh token         YES                  String

###Response JSON

    Schema Property            Description                        Is Required            Type                 Business Rules    
    ---------------            -----------                        -----------            ----                 --------------
    
    token                      Valid OAuth 2.0 SWT token information. YES                 token
                                

###Errors 

    HTTP Code       HTTP Reason Phrase          Message                          Reason 
    ---------       ------------------          -------                          ------
    
    401             invalid_client              Client identifier is required    An API key was not supplied
    
    401             invalid_client              Client credentials are invalid   The API key supplied is invalid  
    
    401             invalid_token               oauth.v2.InvalidAccessToken:     A valid OAuth token was not provided
                                                Invalid access token            

### Refresh Token [/auth/refreshToken]
### Refresh Token [POST]
+ Request (HTTP Content Type)

    + Header

            Authorization: THZ3dm8zUWVHaVdOYFtdmRoU1dTUmVaODhzdTg6Qk5nNmF4bklSSm93bThHUw==
            
   
    + Body

            grant_type=refresh_token&refresh_token=tGzv3JOkF0XG5Qx2TlKWIA

+ Response 200 (application/json)

            {
                "token" :
                {
                    "expires_in":1799,
                    "refresh_token":"vyUeuNQrrKvgdQeGh5HpaxtUuV88wQyb",
                    "access_token":"7z9ZeGyweG98YMAyB0iSm2EiB6bD",
                    "refresh_count":0
                }
            }

## Group Logout

###Description

The “Logout “API allows client applications to protect user accounts if the application has been left idle for a certain number of minutes. The inactivity period can be configured in the backend. When the configured expiration time period has passed (without having the user responding to the job requests, assigning jobs, setting job status, or updating profile, driver, facilities, equipment, or other activities), the user will be able to refresh the token or opt to logout of the app.
If the user decides to log out of the client application, the Logout API will log the authenticated user out of the Roadside Connect System and invalidate the access token.

###Request Headers

    Schema Property              Description                        Is Required            Type                 Business Rules    
    ---------------              -----------                        -----------            ----                 --------------
    
    Authorization                Authorization header containing    YES                    String
                                 OAuth Bearer Token.
    

###Request Schema

    Schema Property         Description                             Is Required            Type             Business Rules    
    ---------------         -----------                             -----------            ----             --------------
    
    clientId                Represents the unique identifier          YES                  String          This has to match the clientId 
                            of the app user is logging out from                                            passed during login process  
                            
###Sample Response

HTTP/1.1 200 OK  

###Errors 

    HTTP Code       HTTP Reason Phrase                  Message                         Reason 
    ---------       ------------------                  -------                         ------
    
    401             INVALID_CLIENT                      Client identifier is required   An API key was not supplied
    
    401             INVALID_TOKEN                       oauth.v2.InvalidAccessToken:    A valid OAuth token was not provided.
                                                        Invalid access token
                                                                                                     
    500             UNKNOWN                             Unknown Error                   An error occurred on the server
    

### Logout [/auth/logout]
### Logout [POST]
+ Request (application/json)

    + Header

            Authorization: Bearer 7z9ZeGyweG98YMAyB0iSm2EiB6bD
            
   
    + Body

            {
                "clientId" : "123456786543210"
            }

+ Response 200


##Group Get Dispatch List

Once dispatches are generated in One Road and assigned to Vendors through the Automated Dispatch process, the “Get Dispatch list” API will allow user to get a list of dispatches based on role:
   
- For Owner/Dispatcher/Manager, the API returns a list of dispatches for the vendor, including new offers and unassigned jobs.
- For Driver, the API returns a list of dispatches for the currently logged-in driver.

The Get Dispatch API will return information available in the following business objects: Dispatches, Vehicle, Disablement Location, and Assigned Driver.
Pagination is available and enforced for this request.

###API Business Rules

- The for Driver parameter is optional. If this parameter is omittes, the API will list dispatches based on login/role. If a driver is specified , the API will query for the specific driver, and only if the role = Owner or Dispatcher.
- The dispatchStatusList parameter is a comma separated list of dispatch statuses the user is interested in. This is optional and if not provided, all dispatches will be returned. For possible values of dispatch status codes: Please refer to “Valid Status Codes” resource from Dispatch Status API
- The startDate(mm/dd/yyyy) and endDate (mm/dd/yyyy) parameters ----These parameters allow the consumer of the API to retrieve a list of dispatches which fall within a specific date range. These parameters are optional and following rules apply:
  * Both startDate and endDate are provided----endDate has to be later than startDate. Exception(HttpStatusCode:400) will be thrown otherwise
  * Neither startDate nor endDate are provided---- current date will be applied for both startDate and endDate.
  * Only startDate is provided with no endDate-----current date will be applied to endDate.
  * Only endDate is provided with no startDate----this is not allowed. endDate always requires a startDate. Exception(HttpStatusCode:400) will be thrown otherwise
  

###Sample Request URL Path(s)  

/dispatches

/dispatches?forDriver=12345

/dispatches?dispatchStatusList=2,20,30

/dispatches?forDriver=12345&dispatchStaus=2,20,30

/dispatches?forDriver=12345&dispatchStaus=2,20,30&startDate=06-01-13

/dispatches?forDriver=12345&dispatchStaus=2&startDate=06-01-13&endDate=06-06-13

/dispatches?forDriver=12345,454646

/dispatches?serviceTypes=ROAD,TOW

/dispatches?poNumbers=245711363,2454511678


###Request Schema

    Schema Property         Description                             Is Required          Type             Business Rules    
    ---------------         -----------                             -----------          ----             --------------
    
    totalCount              Number of dispatches found by the       YES                  Integer
                            query. For example, if there are 100 
                            dispatches, this count will be 100,
                            even though pagination has only
                            returned the first 20.
                            
    Limit                   The pagination limit used               YES                  Integer 
    
    offset                  The pagination offset used              YES                  Integer
    
    dispatches              Returns an array of dispatch objects    YES                  Dispatch[]
                            
   
###Errors 

    HTTP Code       HTTP Reason Phrase    Error Code              Message                         Reason 
    ---------       ------------------    ----------              -------                         ------
    
    401             Unauthorized          INVALID_TOKEN         oauth.v2.InvalidAccessToken:      A valid OAuth token was not provided.
                                                                access token
                                                                
    404             No Jobs Found                                                                 No jobs were found for the query.   
    
    500             Server Error          UNKNOWN               Unknown Error                     An error occurred on the server
    
##Get Dispatch List [/dispatches?forDriver={driverId}&dispatchStatusList={dipatchStatusCodes}&startDate={startDate}&endDate={endDate}]

###Get Dispatch List [GET]

+ Request ()

    + Header

            Authorization: Bearer 7z9ZeGyweG98YMAyB0iSm2EiB6bD
   

+ Response 200 (application/json)

        { 
        "totalCount":25, 
        "offSet":0, 
        "limit":10, 
        "results":[ 
            { 
                "comments":null, 
                "statusHistory":null, 
                "serviceType":"Tow", 
                "coverage":null, 
                "dispatchRequestNumber":"463798552", 
                "urgency":null, 
                "referenceNumber":null, 
                "poNumber":"245711363", 
                "problem":null, 
                "equipment":
                    {
                        "type":"Light Duty Flatbed", 
                        "equipmentId":null 
                    }, 
                "receivedTime":"2013-11-11T16:14:59Z", 
                "acceptedTime":"2013-11-11T16:14:57Z", 
                "currentStatus":
                   { 
                       "code":"0", 
                       "description":"UNASSIGNED", 
                       "eta":0, 
                       "reason":null, 
                       "reasonCode":0, 
                       "source":null, 
                       "extJobId":null, 
                       "latitude":0.0, 
                       "longitude":0.0, 
                       "statusTime":"0001-01-01T00:00:00", 
                       "driverId":0, 
                       "reportedBy":"Agero" 
                     },
                "vehicle":
                   { 
                       "vin":null, 
                       "year":"2011", 
                       "state":null, 
                       "make":"All Wheel Drive Equip.", 
                       "mileage":0, 
                       "model":"NULL", 
                       "color":"Unknown", 
                       "plate":null, 
                       "VehicleType":null, 
                       "driveTrainType":null,
                       "fuelType":null
                    }, 
                "disablementLocation":
                    { 
                       "contactInfo":
                            { 
                               "callbackNumber":null, 
                               "name":"HOME 1", 
                               "phone":null 
                            }, 
                        "dropInstructions":null, 
                        "garageClearanceHeight":null, 
                        "garageLevel":null, 
                        "isDriverWithVehicle":true, 
                        "nightDropOff":false, 
                        "parked":false, 
                        "address1":"422 North St", 
                        "address2":null, 
                        "crossStreet":null, 
                        "landmark":null, 
                        "locationType":null, 
                        "city":"Randolph", 
                        "poi1":null, 
                        "poi2":null, 
                        "state":"MA", 
                        "postalCode":"02368", 
                        "lat":42.1758751377985, 
                        "lng":-71.0348727425857 
                    }, 
                "towDestination":
                    { 
                        "contactInfo":
                           { 
                               "callbackNumber":null,
                               "name":"TOW TO", 
                               "phone":"" 
                            }, 
                        "nightDropOff":false, 
                        "address1":null, 
                        "address2":null, 
                        "crossStreet":null, 
                        "landmark":"", 
                        "locationType":"Dealership", 
                        "city":"DEDHAM", 
                        "poi1":null, 
                        "poi2":null, 
                        "state":"MA", 
                        "postalCode":null, 
                        "lat":42.24903717041, 
                        "lng":-71.176467895508 
                    }, 
                "assignedDriver":null, 
                "eta":"2013-11-11T17:14:57", 
                "etaInMinutes":60, 
                "revisedEta":"2013-11-11T17:29:57", 
                "revisedEtaInMinutes":15, 
                "etaRevisionCount":1,
                "responseTimeExtCount":0, 
                "dispatcherContactNumber":null, 
                "signatures":null 
            }, .
               .
               .
               .
        ]
        }
        
# Group Get A Single Dispatch

The” Get a single dispatch “ API will return specific information for a dispatch. This API will be called when a user selects a dispatch from the list of dispatches available for that user.
The “Get a Single Dispatch” API will return information related to the following business object: Dispatch, Current Status, Equipment, Vehicle, Disablement Location, Tow Destination, Assigned Driver, Comments and Signatures.


###Sample Request URL Path

/dispatches/329345447/detail

###Request  Parameters

    Schema Property             Description                             Is Required            Type             Business Rules    
    ---------------             -----------                             -----------            ----             --------------
    
    dispatchRequestNumber/PO#   Represents the dispatch Request#        YES                    Dispatch
                                /PO# of the dispatch 

###Response Schema

    Schema Property         Description                             Is Required            Type             Business Rules    
    ---------------         -----------                             -----------            ----             --------------
    
    dispatch                The dispatch                            YES                    Dispatch
    
###Errors 

    HTTP Code       HTTP Reason Phrase    Error Code              Message                          Reason 
    ---------       ------------------    ----------              -------                          ------
    
    401             Unauthorized          INVALID_TOKEN         oauth.v2.InvalidAccessToken:       A valid OAuth token was not provided.
                                                                access token
                                                                
    403             Forbidden             FORBIDDEN_RESOURCE    The job you are tyring to          Drivers cannot see jobs aren't  
                                                                retrive is not allowed by          unassingned or assigned to them
                                                                the current user.
                                                                
    404             Jobs Not Found                                                                 The requested job record doesn’t   
                                                                                                   exist. 
                                                                                                   
    500             Server Error          UNKNOWN               Unknown Error                      An unknown error occurred at the server
                            

##Get A Single Dispatch [/dispatches/{dispatchRequestNumber OR PO#}/detail]

###Get A Single Dispatch [GET]

+ Request ()

    + Header

            Authorization: Bearer 7z9ZeGyweG98YMAyB0iSm2EiB6bD
   

+ Response 200 (application/json)

            {
                "dispatchRequestNumber" : “329345447”,
                “referenceNumber” : “123456789”,
                “poNumber” : “234578098”,
                "serviceType" : “TOW”,
                “problem” : “Inoperable Problem”,
                “coverage” : “Customer covered on this service to the Designated Tow Destination. Your service is only eligible to be paid by CCAS if the customer vehicle arrives at the Designated Tow Destination specified on this dispatch summary or we provide approval for a change to the tow destination before service is rendered.<BR><B>Included: </B><BR>Storage Cost<BR><!--EXCLUDEDTEXT-->”,
                “urgency” : “NORMAL”,
                "receivedTime" : “12/21/2012 11:28 AM”,
                "currentStatus" :
                {
                    “code” : “10”,
                    "statusReason" : “”,
                    “eta” : 45,
                    “source” : “Mobile”
                },
                “etaStatusCode”:101,
                "eta":"2013-11-11T17:43:42", "etaInMinutes":20,
                "revisedEta":"2013-11-11T17:53:42", "revisedEtaInMinutes":10,
                "etaRevisionCount":1,
                “equipment” :
                {
                    51 2 REST Services
                    “equipmentId” : “LDWL”,
                    “type” : “Light Duty Wheel Lift”
                },
                “vehicle” :
                {
                    “color” : “Blue”,
                    “make” : “Hyundai”,
                    “model” : “Santa Fe”,
                    “year” : “2012”,
                    “fuelType” : “Gasoline”,
                    “driveTrainType” : “AWD”,
                    “plate” : “1234 AZ”,
                    “state” : “MA”,
                    “vin” : “1F12345FD46789”,
                    “vehicleType” : “passenger”,
                    “mileage” : “40000”
                },
                "disablementLocation": 
                {
                    "contactInfo": {
                    "callbackNumber": "2222222222",
                    "name": "BRENDA MORGAN",
                    "phone": null
                },
                "dropInstructions": null,
                "garageClearanceHeight": null,
                "garageLevel": null,
                "isDriverWithVehicle": true,
                "nightDropOff": false,
                "parked": false,
                "address1": "4 NORTH STREET",
                "address2": null,
                "crossStreet": "RAMP",
                "landmark": null,
                "locationType": null,
                "city": "RANDOLPH",
                "poi1": null,
                "poi2": null,
                "state": "MA",
                "postalCode": "02368",
                "lat": 42.163153076172,
                "lng": -71.040963745117
                },
                "towDestination": 
                {
                    "contactInfo": 
                    {
                        "callbackNumber": null,
                        "name": "PRIME HYUNDAI SOUTH",
                        52 2 REST Services
                        "phone": "6177741300"
                    },
                    "nightDropOff": false,
                    "address1": "479 WASHINGTON STREET",
                    "address2": null,
                    "crossStreet": null,
                    "landmark": "",
                    "locationType": "Dealership",
                    "city": "QUINCY",
                    "poi1": null,
                    "poi2": null,
                    "state": "MA",
                    "postalCode": "02169",
                    "lat": 42.248,
                    "lng": -70.9822
                },
                "assignedDriver" :
                {
                    “driverId” : “132454”,
                    “Status” : “10”,
                    “name” : “Joe Smith”,
                    “equipment” :
                    {
                        “equipmentId” : “LDWL”,
                        “addressId” : 1,
                        “type” : “Light Duty Wheel Lift”,
                        "vehicleNickname" : “Truck #6”
                    },
                    "location" :
                    {
                        “address” : “275 High Street”,
                        “lat” : “42.0123”,
                        “lng” : “80.1153”
                    },
                        "towDestination" : { }
                },
                “comments” :
                [{
                    “commentCode” : “DLC”,
                    “displayText” : “Disablement Location”,
                    “commentText” : “be careful with dog in the back yard.”
                }]
                “signatures”:[
                {
                    "signatureId":"244254",
                    "signeeName”:"Smith",
                    "signeeType":"Employee",
                    "signatureReason": "Pre-existing Damages",
                    53 2 REST Services
                    "locationType": "Tow Location",
                    "latitude":72.3434 ,
                    "longitude":-182.43543,
                    "dispatchStatusCode":"20",
                    "capturedDateTime":"12/21/2012 11:28 AM",
                    "signatureUrl":"/dispatches/354235235/signatures/234234/picture"
                },
                {
                    "signatureId":"24424",
                    "signeeName”:"Joe",
                    "signeeType":"Employee",
                    "signatureReason": "Pre-existing Damages",
                    "locationType": "Tow Location",
                    "latitude":72.3434 ,
                    "longitude":-182.43543,
                    "dispatchStatusCode":"20",
                    "capturedDateTime":"12/21/2012 11:45 AM",
                    "signatureUrl":"/dispatches/354235235/signatures/24424/picture"
                }
                ],
                {
                "dispatcherId" : “35325235”,
                "name" : “Jon Doe”,
                “officeEmail” : “jdoe@abctowing.com”,
                “officePhone” : “555-555-1111”,
                “profilePictureUrl” : “/vendors/53240/dispatchers/3949/picture”,
                "profileLastUpdatedAt":"2013-01-31 08:30 AM",
                "onDuty":true
                }
            }

# Group Submit Dispatch Acceptance

###Description

The Submit Dispatch Acceptance API will allow users to submit acceptance for a new job offer. The user will have to enter the Estimated Time of Arrival (ETA) 
and a reason in case if the user wants to provide details about special circumstances related to that job for dispatches greater than 90 minutes. 
The Dispatcher can enter one of the following reasons:.

- None
- Weather Emergency
- Extreme traffic in the area

Based on the CDE business rules, the maximum allowed ETA is 480 minutes. In addition, the user can opt to enter or not enter a special circumstances reason. 
Once the user provides the acceptance, CDE will evaluate the ETA and special circumstance reason and provide a push notification to the user, informing the user if the ETA
has been accepted or rejected by Agero. The push notification process is documented in the Push Notification API.

###Sample Request URL
/dispatches/329345447/acceptDispatchRequest

###Request JSON

    Schema Property         Description                             Is Required     Type             Business Rules    
    ---------------         -----------                             -----------     ----             --------------
    
    eta                     Estimated ETA                           YES             Integer
    
    reason                  Any special circumstances if applicable YES/NO          String          Required if ETA is beyond the 
                                                                                                    maximum allowable.
                                                                                                    Possible Values:
                                                                                                    * None
                                                                                                    * Weather Emergency
                                                                                                    * Extreme Traffic in the Area
    
###Errors 

    HTTP Code       HTTP Reason Phrase    Error Code              Message                         Reason 
    ---------       ------------------    ----------              -------                         ------
    
    401             Unauthorized          INVALID_TOKEN         oauth.v2.InvalidAccessToken:      A valid OAuth token was not provided.
                                                                access token
                                                                
    403             Forbidden             FORBIDDEN_RESOURCE    The resource is not allowed       Drivers view or accept job offers
                                                                by the current user.
                                                                
    404             Jobs Not Found                                                                 The requested job record doesn’t   
                                                                                                   exist. 
                                                                                                   
    500             Server Error          UNKNOWN               Unknown Error                      An unknown error occurred at the server


##Submit Dispatch Acceptance [/dispatches/{dispatchRequestNumber}/acceptDispatchRequest]

###Submit Dispatch Acceptance [POST]

+ Request (application/json)

    + Header

            Authorization: Bearer 7z9ZeGyweG98YMAyB0iSm2EiB6bD
    
    + Body
    
            {
                "eta" : “80”,
                "reason" : “Extreme Traffic in the Area”
            }
   

+ Response 200 ()

# Group Submit Dispatch Refusal

###Description

The “Submit Dispatch Refusal “API will allow users to refuse a new job offer. The user will have to enter a refusal reason from the list of refusal reasons available for
that job. Once the user provides and submits the refusal reason, CDE will receive the reason and offer that job to the next Service Provider (available for automated 
Dispatches if available – or a non-automated dispatch provider if none available). In this case, no push notification will be sent to the Service Provider that refused that job.

Dispatcher can select one of the following Rejection reasons codes:

    Reason Code             Reason Description  
    ----------              -------------------
    
        400                 Do not accept payment type
        
        406                 Proper equipment not available 501 No longer offer service
        
        409                 Out of my coverage area 
        
        503                 Other
        
###Sample Request URL

/dispatches/329345447/refuseDispatchRequest

###Request JSON

    Schema Property         Description                             Is Required     Type             Business Rules    
    ---------------         -----------                             -----------     ----             --------------
    
    reasonCode              represents the reason code why a        YES            String
                            job is being refused
    
###Errors 

    HTTP Code       HTTP Reason Phrase    Error Code            Message                           Reason 
    ---------       ------------------    ----------            -------                           ------
    
    401             Unauthorized          INVALID_TOKEN         oauth.v2.InvalidAccessToken:      A valid OAuth token was not provided.
                                                                access token
                                                                
    403             Forbidden             FORBIDDEN_RESOURCE    The resource is not allowed       Drivers view or accept job offers
                                                                by the current user.
                                                                
    404             Jobs Not Found                                                                 The requested job record doesn’t   
                                                                                                   exist. 
                                                                                                   
    500             Server Error          UNKNOWN               Unknown Error                      An unknown error occurred at the server
                            


##Submit Dispatch Refusal [/dispatches/{dispatchRequestNumber}/refuseDispatchRequest]

###Submit Dispatch Refusal [POST]

+ Request (application/json)

    + Header

            Authorization: Bearer 7z9ZeGyweG98YMAyB0iSm2EiB6bD
    
    + Body
    
            {
                "reasonCode" : “406”
            }
   

+ Response 200 ()


# Group Request More Time to Accept

###Description

The “Request More Time to Accept” API is used to request additional time to accept a job offer. When this API is called, 
it will add 1 minute to the job offer expiration time. This request can be done only for dispatches in the “New “state.

###Sample Request URL

/dispatches/329345447/refuseDispatchRequest

###Response JSON

    Schema Property         Description                             Is Required     Type             Business Rules    
    ---------------         -----------                             -----------     ----             --------------
    
    responseTimeExtCount    The number of times and extension        YES            Integer         An extension may only 
                            has been requested                                                      be requested once.
                            
    
###Errors 

    HTTP Code       HTTP Reason Phrase    Error Code            Message                            Reason 
    ---------       ------------------    ----------            -------                            ------
    
    401             Unauthorized         INVALID_TOKEN          oauth.v2.InvalidAccessToken:       A valid OAuth token was not provided.
                                                                access token
                                                                
    403             Forbidden            FORBIDDEN_RESOURCE     The resource is not allowed by     Drivers view or accept job offers.
                                                                the current user.
                                                                
    404             Jobs Not Found                                                                 The requested job record doesn’t   
                                                                                                   exist. 
                                                                                                   
    500             Server Error         UNKNOWN                Unknown Error                      An unknown error occurred at the server
                            


##Request More Time to Accept [/dispatches/{id}/requestExtension]

###Request More Time to Accept [POST]

+ Request ()

    + Header

            Authorization: Bearer 7z9ZeGyweG98YMAyB0iSm2EiB6bD
   

+ Response 200 (application/json)

    + Body
            
            {
                "responseTimeExtCount" : 1
            }

# Group Get Dispatch Assignment

###Description
The “Get Dispatch Assignment” API will allow users to get the details of a driver that is assigned to a particular job 
identified bydispatchRequestNumber. This API will allow users to see information available in the assignedDriver
business object.

###Sample Request URL

/dispatches/329345447/assignedDriver

###Response JSON

    Schema Property         Description                     Is Required     Type             Business Rules    
    ---------------         -----------                     -----------     ----             --------------
    
    assignedDriver                                           YES            Integer         
                            
    
###Errors 

    HTTP Code       HTTP Reason Phrase    Error Code            Message                         Reason 
    ---------       ------------------    ----------            -------                         ------
    
    401             Unauthorized          INVALID_TOKEN         oauth.v2.InvalidAccessToken:     A valid OAuth token was not provided.
                                                                access token
                                                                
    404             Jobs Not Found                                                               The requested job record doesn’t   
                                                                                                 exist. 
                                                                                                   
    500             Server Error          UNKNOWN               Unknown Error                    An unknown error occurred at the server
                            

##Get Dispatch Assignment [/dispatches/{dispatchRequestNumber}/assignedDriver]

###Get Dispatch Assignment [GET]

+ Request ()

    + Header

            Authorization: Bearer 7z9ZeGyweG98YMAyB0iSm2EiB6bD
   

+ Response 200 (application/json)

    + Body
            
            {
                “driverId” : “132454”,
                “Status” : “Active”,
                “name” : “Joe”,
                “equipment” : “Light Duty Wheel Lift”,
                "currentLocation" :
                {
                    “address” : “275 High Street”,
                    “lat” : “42.0123”,
                    “lng” : “80.1153”
                },
                "towDestination" : { }
            }

# Group Assign Driver

###Description
The “Assign Driver” API will allow a dispatcher to assign a driver to a certain job. Once the Driver is assigned to a dispatch, 
the dispatch will be shown in “Assigned” status.

###Sample Request URL
/dispatches/329345447/assignedDriver

###Request JSON

    Schema Property         Description                 Is Required     Type             Business Rules    
    ---------------         -----------                 -----------     ----             --------------
    
    driverId                                             YES           Integer         
                            
    
###Errors 

    HTTP Code       HTTP Reason Phrase    Error Code                Message                         Reason 
    ---------       ------------------    ----------                -------                         ------
    
    400             Bad Request           REQUEST_PARAMETER_MISSING
                                                                                                   
    401             Unauthorized          INVALID_TOKEN             oauth.v2.InvalidAccessToken:      A valid OAuth token was 
                                                                    access token                      not provided.  
                                                                
    500             Server Error          UNKNOWN                   Unknown Error                     An unknown error occurred at
                                                                                                      the server
                            


##Assign Driver [/dispatches/{id}/assignedDriver]

###Assign Driver [PUT]

+ Request (application/json)

    + Header

            Authorization: Bearer 7z9ZeGyweG98YMAyB0iSm2EiB6bD
            
    + Body
    
            {
                “driverId” : “132454”
            }
   

+ Response 200 ()

# Group Cancel a Dispatch

###Description

The “Cancel a Dispatch” API, will allow drivers and dispatchers to cancel a dispatch. The cancellation status codes are 
documented below based on the cancellation reason. Once a job has been cancelled, the driver that worked on that job 
and the dispatcher that assigned that job will receive a push notification. Also, these statuses will trigger Cancellation 
data pops in One Road that will require further action on behalf of the One Road CSR working on that dispatch.

###Sample Request URL
/dispatches/329345447/cancel

    Status Code               Status Description                 Reason Code            Reason Description 
    -----------               ------------------                 -----------            ------------------
    
      70                        SP Cancel                           201                 SP CANCEL - Prior job delayed
    
      70                        SP Cancel                           202                 SP CANCEL - Traffic/service vehicle problem 
    
      70                        SP Cancel                           203                 SP CANCEL - Out of area
    
      70                        SP Cancel                           204                 SP CANCEL - Another job priority 
    
      70                        SP Cancel                           205                 SP CANCEL - No reason given
    
      80                        Customer Cancel                     101                 CUSTOMER - CANCEL - FOUND ALTERNATE SOLUTION
    
      80                        Customer Cancel                     102                 CUSTOMER - CANCEL - PROBLEM SELF-CORRECTED
    
      90                        Vehicle could not be found          207                 GOA REQUEST - WRONG LOCATION GIVEN
    
      95                        Customer not with vehicle           206                 GOA REQUEST - CUSTOMER NOT WITH VEHICLE
    
      99                        Service attempt failed              208                 GOA REQUEST - INCORRECT SERVICE

###Request JSON

    Schema Property         Description                             Is Required     Type             Business Rules    
    ---------------         -----------                             -----------     ----             --------------
    
    statusCode              The cancelation status type             YES             String
    
    reasonCode              The reason for the cancelation          YES             Integer         
                            
    
###Errors 

    HTTP Code       HTTP Reason Phrase    Error Code                Message                         Reason 
    ---------       ------------------    ----------                -------                         ------
    
    400             Bad Request           REQUEST_PARAMETER_MISSING
                                                                                                   
    401             Unauthorized          INVALID_TOKEN             oauth.v2.InvalidAccessToken:      A valid OAuth token was 
                                                                    access token                      not provided.  
                                                                
    500             Server Error          UNKNOWN                   Unknown Error                     An unknown error occurred at
                                                                                                      the server
                            
##Cancel a Dispatch [/dispatches/{id}/cancel]

###Cancel a Dispatch [POST]

+ Request (application/json)

    + Header

            Authorization: Bearer 7z9ZeGyweG98YMAyB0iSm2EiB6bD
            
    + Body
    
            {
                “statusCode” : “70”,
                “reasonCode” : 201
            }
   

+ Response 200 ()

# Group Add a Signature

###Description

The Signature API will allow drivers and dispatchers to save multiple signatures per PO.
This API will allow users to collect the location, name of the signee, signeetype, signature reason and/or signature location.

The following data can be collected by this API:

Signature Capture Location:

- Disablement Site or Pick-Up location
- Tow Location

Name of Signee:

Signee Type:
- Vehicle Owner/Driver
- Employee
    
Signature Reason:

- Pre-existing Damages
- Unattended Tow
- Job Complete
- Vehicle & Keys Received
    
Signature Location:

- Geo-Confirm and Save
    

###Sample Request URL

/dispatches/329345447/signatures

###Request Header    

        
        HeaderName          Description                                Is Required          Expected Value 
        ----------          -----------                                -----------          ---------------
        
        Content-Type        Indicates the type of the content          YES                  multipart/form-data; boundary=AaB03x
                            being posted      
                          
        Content-Length      Indicates the length of the content        YES                  This is a dynamic value which depends 
                                                                                            on the size of the file being  
                                                                                            uploaded (from the first AaB03x down, 
                                                                                            including the file data)
                                                                                                     
###Request Schema 

    Schema Property              Description                        Is Required            Type                 Business Rules    
    ---------------              -----------                        -----------            ----                 --------------
    
    signeeName                   Represents the name of the         YES                    String
                                 person who is signning
                                 
    signeeType                   Indicates the code for             YES                    Enumeration          Please refer to 
                                 the type of signee                                                             SigneeType enumeration 
                                                                                                                API for possible values
    
    locationType                Indicates the code for              YES                    Enumeration          Please refer to 
                                the type of the location                                                        locationType lookup API 
                                at which signature is being                                                     for possible values
                                captured
                                
    signatureReason             Indicates the code for the          YES                    Enumeration          Please refer to  
                                reason why a signature is                                                       signatureReason lookup 
                                being captured                                                                  API for possible values
    
    Latitude                    Indicates the latitude of           YES                    Double
                                the location at which signature 
                                is being captured
                                
    longitude                   Indicates the longitude of the      YES                    Double
                                location at which signature 
                                is being captured
                                
    dispatchStatusCode         Represents the code state of the     YES                    String               Please refer to Dispatch   
                               dispatch at which signature                                                      Status API for valid status 
                               is being captured                                                                codes
                               
    signature                  Represents the binary                NO                      Byte[]              This is optional and
                               representation of the 
                               captured signature

###Reponse Schema

    Schema Property         Description                             Is Required     Type             Business Rules    
    ---------------         -----------                             -----------     ----             --------------
    
    signatureId             ID of the newly created signature       YES             String
 
    
###Errors 

    HTTP Code         Error Code                    Message                         Reason 
    ---------        ----------                     -------                         ------
    
    400             REQUEST_PARAMETER_MISSING       Request Validation failed.      One or more invalid parameters we 
                                                                                    passed. See the innerErrors collection 
                                                                                    for a list of invalid parameters.
                                                                                                   
    401             INVALID_TOKEN                   oauth.v2.InvalidAccessToken:    A valid OAuth token was 
                                                    access token                    not provided.  
                                                                
    500             UNKNOWN                         Unknown Error                   An unknown error occurred at
                                                                                    the server
##Get Signatures

###Description

The”Get Signatures” API will allow drivers and dispatchers to retrieve the list of signatures associated with a certain PO.
This API will render all the information associated with the Signature feature. The details are documented in the “Add a Signature” API.

###Sample Request URL

/dispatches/329345447/signatures

###Reponse Schema

    Schema Property         Description                             Is Required     Type             Business Rules    
    ---------------         -----------                             -----------     ----             --------------
    
    Array of signatures     Represents the signatures captured       YES            Signature[]
                            to that point. Each array item 
                            represents a signature
###Errors 

    HTTP Code         Error Code                    Message                         Reason 
    ---------        ----------                     -------                         ------
    
    400             REQUEST_PARAMETER_MISSING       Request Validation failed.      One or more invalid parameters we 
                                                                                    passed. See the innerErrors collection 
                                                                                    for a list of invalid parameters.
                                                                                                   
    401             INVALID_TOKEN                   oauth.v2.InvalidAccessToken:    A valid OAuth token was 
                                                    access token                    not provided.  
                                                    
    401             DISPATCH_NOT_FOUND              No dispatch found               This is returned if the dispatch request# 
                                                                                    provided in the resourceURI could not 
                                                                                    be found
                                                                                    
    401             SIGNATURES_NOT_FOUND            No signatures found             This is returned if a dispatch has no 
                                                                                    signatures
                                                                
    500             UNKNOWN                         Unknown Error                   An unknown error occurred at
                                                                                    the server
                            
##Add a Signature [/dispatches/{dispatchRequestNumber}/signatures]

###Add a Signature [POST]

+ Request (multipart/form-data)

    + Header

            Authorization: Bearer 7z9ZeGyweG98YMAyB0iSm2EiB6bD
            
            
    + Body
    
            --AaB03x 
            
            content-disposition: form-data; name="signeeName" 
            
            {signeeName} 
            
            --AaB03x 
            
            content-disposition: form-data; name="signeeType" 
            
            {signeeType} 
            
            --AaB03x 
            
            content-disposition: form-data; name="locationType" 
            
            {locationType}
            
            --AaB03x 
            
            content-disposition: form-data; name="signatureReason" 
            
            {signatureReason} 
            
            --AaB03x 
            
            content-disposition: form-data; name="latitude" {latitude} 
            
            --AaB03x 
            
            content-disposition: form-data; name="longitude" {longitude}
            
            --AaB03x 
            
            content-disposition: form-data; name="dispatchSatusCode" {dispatchStatusCode} 
            
            --AaB03x 
            
            content-disposition: form-data; name="signature"; filename="{signatureFileName}" 
            
            Content-Type: {mimeType} {binaryData} 
            
            --AaB03x--
               

+ Response 200 (application/json)

    + Body
            
            {
                “signatureId” : “1171”
            }


##Get Signatures [GET]

+ Request ()

    + Header

            Authorization: Bearer 7z9ZeGyweG98YMAyB0iSm2EiB6bD
            
+ Response 200 (application/json)

    + Body
            
            [ 
            { 
                "signatureId”:"532523", 
                "signeeName”:"Smith", 
                "signeeType":"1", 
                "signatureReason": "1", 
                "latitude":72.3434 , 
                "longitude":-182.43543, 
                "dispatchStatusCode":"20", 
                "capturedDateTime":"12/21/2012 11:28 AM", 
                "signatureUrl":"/dispatches/354235235/signatures/234234/picture" 
            }, 
            { 
                "signatureId”:"532524", 
                "signeeName”:"John", 
                "signeeType":"2", 
                "signatureReason": "2", 
                "latitude":80.3434 , 
                "longitude":-197.43543, 
                "capturedDateTime":"12/21/2012 11:55 AM", 
                "signatureUrl":"/dispatches/354235235/signatures/23352/picture" 
            }
            ] 

## Group Get a Signature

###Description

The “Get a signature” API will allow drivers and dispatchers to retrieve a signature captured for a given dispatch. 
The signature will be identified by Signature ID and will be associated with a dispatch identified by dispatchRequestNumber.

###Sample Request URL

/dispatches/329345447/signatures/532523

###Reponse Schema

    Schema Property         Description                             Is Required     Type             Business Rules    
    ---------------         -----------                             -----------     ----             --------------
    
    signature               Represents the signature identified      YES            signature
                            by signatureId
                             
###Errors 

    HTTP Code         Error Code                    Message                         Reason 
    ---------        ----------                     -------                         ------
    
    400             REQUEST_PARAMETER_MISSING       Request Validation failed.      One or more invalid parameters we 
                                                                                    passed. See the innerErrors collection 
                                                                                    for a list of invalid parameters.
                                                                                                   
    401             INVALID_TOKEN                   oauth.v2.InvalidAccessToken:    A valid OAuth token was 
                                                    access token                    not provided.  
                                                    
    401             DISPATCH_NOT_FOUND              No dispatch found               This is returned if the dispatch request# 
                                                                                    provided in the resourceURI could not 
                                                                                    be found
                                                                                    
    401             SIGNATURES_NOT_FOUND            No signatures found             This is returned if a dispatch has no 
                                                                                    signatures
                                                                
    500             UNKNOWN                         Unknown Error                   An unknown error occurred at
                                                                                    the server


## Get a Signature [/dispatches/{dispatchRequestNumber}/signatures/{signatureId}]

###Get Signatures[GET]

+ Request ()

    + Header

            Authorization: Bearer 7z9ZeGyweG98YMAyB0iSm2EiB6bD
            
+ Response 200 (application/json)

    + Body
            
            {
                "signatureId”:"532523",
                "signeeName”:"Smith",
                "signeeType":"1",
                "signatureReason": "1",
                "latitude":72.3434 ,
                "longitude":-182.43543,
                "capturedDateTime":"12/21/2012 11:28 AM",
                "signatureUrl":"/dispatches/354235235/signatures/234234/picturepicture"
            }


# Group Add a Dispatch Document

###Description

The documents API will allow drivers and dispatchers to save multiple documents per PO.

The following data can be collected by this API:

DocumentType:

- Disablement Site or Pick-Up location
- Tow Location

###Sample Request URL

/dispatches/329345447/documents

    
###Request Header    

        
    HeaderName          Description                               Is Required           Expected Value 
    ----------          -----------                               -----------           ---------------
    
    Content-Type        Indicates the type of the content         YES                   multipart/form-data; boundary=AaB03x
                        being posted      
                      
    Content-Length      Indicates the length of the content       YES                   This is a dynamic value which depends 
                                                                                        on the size of the file being  
                                                                                        uploaded (from the first AaB03x down, 
                                                                                        including the file data)
                                                                                                     
###Request Schema 

    Schema Property              Description                        Is Required            Type                 Business Rules    
    ---------------              -----------                        -----------            ----                 --------------
    
    documentType                 Indicates the code                   YES                  Enumeration          Please refer to 
                                 for the type of document                                                       DocumentType enumeration 
                                 being uploaded                                                                 API for possible values
  
###Reponse Schema

    Schema Property         Description                             Is Required     Type             Business Rules    
    ---------------         -----------                             -----------     ----             --------------
    
    documentId              ID of the newly created document        YES             String
                             
###Errors 

    HTTP Code        Error Code                     Message                         Reason 
    ---------        ----------                     -------                         ------
    
    400             REQUEST_PARAMETER_MISSING       Request Validation failed.      One or more invalid parameters we 
                                                                                    passed. See the innerErrors collection 
                                                                                    for a list of invalid parameters.
                                                                                                   
    401             INVALID_TOKEN                   oauth.v2.InvalidAccessToken:    A valid OAuth token was 
                                                    access token                    not provided.  
                                                    
    500             UNKNOWN                         Unknown Error                   An unknown error occurred at
                                                                                    the server
#Get Dispatch Documents

###Description

The” Get Documents” API will allow drivers and dispatchers to retrieve the list of documents associated with a certain PO.

###Sample Request URL

/dispatches/329345447/documents

###Request Body

N/A

###Reponse Schema

    Schema Property         Description                             Is Required     Type             Business Rules    
    ---------------         -----------                             -----------     ----             --------------
    
    Array of documents      Represents the documents captured       YES             Document[]
                            to that point. Each array item 
                            represents a single document
                                 
###Errors 

    HTTP Code         Error Code                    Message                         Reason 
    ---------        ----------                     -------                         ------
    
    400             REQUEST_PARAMETER_MISSING       Request Validation failed.      One or more invalid parameters we 
                                                                                    passed. See the innerErrors collection 
                                                                                    for a list of invalid parameters.
                                                                                                   
    401             INVALID_TOKEN                   oauth.v2.InvalidAccessToken:    A valid OAuth token was 
                                                    access token                    not provided.  
                                                    
    404             DISPATCH_NOT_FOUND              No dispatch found               This is returned if the dispatch request# 
                                                                                    provided in the resourceURI could not be 
                                                                                    found 
                                                                                    
    404             DOCUMENTS_NOT_FOUND             No documents found              This is returned if a dispatch has
                                                                                    no documents
                                                    
    500             UNKNOWN                         Unknown Error                   An unknown error occurred at
                                                                                    the server
                               
                             

##Add a Dispatch Document [/dispatches/{dispatchRequestNumber}/documents]

###Add a Dispatch Document [POST]

+ Request (multipart/form-data)

    + Header

            Authorization: Bearer 7z9ZeGyweG98YMAyB0iSm2EiB6bD
            
    + Body
    
            --AaB03x 
            
            content-disposition: form-data; name="documentType"
            
            {documentType} 
            
            content-disposition: form-data; name="document"; filename="{documentName}" 
            Content-Type: {mimeType} {binaryData} 
            
            --AaB03x--
               

+ Response 200 (application/json)

    + Body
            
            {
                “documentId” : “1171”,
            }


##Get Dispatch Documents [GET]

+ Request ()

    + Header

            Authorization: Bearer 7z9ZeGyweG98YMAyB0iSm2EiB6bD
            
+ Response 200 (application/json)

    + Body
            
            [
                {
                    "documentId”:"532523",
                    "documentName”:"Smith",
                    "documentType":"1",
                    "lastUpdatedDateTime ":"12/21/2013 11:28 AM",
                    "documentUrl":"/dispatches/354235235/documents/532523"
                },
                {
                    "documentId”:"532524",
                    "documentName”:"Smith",
                    "documentType":"2",
                    "lastUpdatedDateTime":"12/21/2013 11:28 AM",
                    "documentUrl":"/dispatches/354235235/documents/532524"
                }
            ] 
            
            
## Group Get a Dispatch Document

###Description

The “Get a Dispatch Document” API will allow drivers and dispatchers to retrieve a document captured for a given 
dispatch. The document will be identified by documentID and will be associated with a dispatch identified by 
dispatchRequestNumber.

###Sample Request URL

/dispatches/329345447/documents/532523

###Request Body

N/A

###Reponse Schema

    Schema Property         Description                             Is Required     Type             Business Rules    
    ---------------         -----------                             -----------     ----             --------------
    
    Document                Represents the document identified      YES             Document
                            by documentId
                            
                                 
###Errors 

    HTTP Code        Error Code                     Message                         Reason 
    ---------        ----------                     -------                         ------
    
    400             REQUEST_PARAMETER_MISSING       Request Validation failed.      One or more invalid parameters we 
                                                                                    passed. See the innerErrors collection 
                                                                                    for a list of invalid parameters.
                                                                                                   
    401             INVALID_TOKEN                   oauth.v2.InvalidAccessToken:    A valid OAuth token was 
                                                    access token                    not provided.  
                                                    
    404             DISPATCH_NOT_FOUND              No dispatch found               This is returned if the dispatch request# 
                                                                                    provided in the resourceURI could not be 
                                                                                    found 
                                                                                    
    404             SIGNATURES_NOT_FOUND            No signatures found             This is returned if a dispatch has no
                                                                                    signatures
                                                    
    500             UNKNOWN                         Unknown Error                   An unknown error occurred at
                                                                                    the server


#Delete a Dispatch Document

###Description

Removes the dispatch document uploaded earlier.

###Sample Request URL

/dispatches/4364646/documents/3456346

###Request Parameters

N/A

###Request Body

N/A

###Sample Request


###Response Body

N/A


###Sample Response

HTTP 200 OK

###Errors 

    HTTP Code        Error Code                 Message                         Reason 
    ---------        ----------                 -------                         ------
    
    404             RESOURCE_NOT_FOUND          Invalid Dispatch Id             If provided dispatchId is either 
                                                                                invalid or does not exist
                                                                                                   
    401             INVALID_TOKEN               oauth.v2.InvalidAccessToken:    A valid OAuth token was 
                                                access token                    not provided.  
                                                    
    500             UNKNOWN                     Unknown Error                   An unknown error occurred at
                                                                                the server
                                                                                    
    404             RESOURCE_NOT_FOUND          Invalid Document Id             If provided documentId is either invalid 
                                                                                or does not exist
                               

## Get a Dispatch Document [/dispatches/{dispatchRequestNumber}/documents/{documentId}]

###Get a Dispatch Document [GET]

+ Request ()

    + Header

            Authorization: Bearer 7z9ZeGyweG98YMAyB0iSm2EiB6bD
            
+ Response 200 (application/json)

    + Body
    
            {   
                "documentId”:"532524",
                "documentName”:"Smith",
                "documentType":"2",
                "lastUpdatedDateTime ":"12/21/2013 11:28 AM",
                "documentUrl":"/dispatches/354235235/documents/532524"
            }

##Delete a Dispatch Document [DELETE]

+ Request ()

    + Header

            Authorization: Bearer 7z9ZeGyweG98YMAyB0iSm2EiB6bD
            
+ Response 200 ()

## Group Valid Status Codes

Dispatch Status Business Rules
Agero sends new job offers to Service Providers. There are 3 dispositions for a new job: “New”, “Work in Progress”, and “Closed”.

###“New” Disposition captures the following statuses
* New – when the dispatcher receives a new job offer
* Expired –when the new job offer has not been accepted or rejected by the Service Provider
* Pending – when the dispatcher requested an additional one minute before accepting or refusing
* Refused –when the dispatcher refuses the new job offer
* Rejected – when Agero rejects the ETA submitted by the dispatcher
* Unassigned –when the ETA submitted by the Dispatcher has been accepted but the job has not been assigned to a driver

###“Work in Progress” Disposition captures the following statuses
* Assigned –when a Dispatcher assigns a job to a driver
* In Route – when the Driver is en route to the disablement location
* On Scene,
* Tow in Progress(for tow jobs)
* Destination Arrival
* Job Cleared.

###“Closed” Disposition captures the following statuses
* Cancel – SP Cancel
* Cancel – Customer Cancel
* Unsuccessful – No Vehicle
* Unsuccessful – No Customer
* Service Attempt Failed
    
The user is permitted to skip a status-node in the above flow.

If a status-node is skipped, the user is not permitted to later add the timestamp (because timestamps would then be out of order).

A job can be set to Cancellation or Unsuccessful Service at any time.

User will clarify why the job resulted in a Cancellation or an Unsuccessful Service.

Once a job reaches an end node (any status-node in the “Closed” disposition), then no further updates are permitted.

    Status Code            Description 
    -----------            -----------
    
      2                    New                 Readonly
      4                    Expired             Readonly 
      3                    Pending             Readonly
      5                    Rejected            Readonly 
      6                    Refused             Readonly
      0                    Unassigned 
      10                   Assigned
      20                   In Route
      30                   On Scene
      40                   Tow in Progress
      50                   Destination Arrival
      60                   Job Cleared         Readonly 
      70                   Cancel – SP Cancel
      80                   Cancel – Customer Cancel
      90                   Unsuccessful – No Vehicle
      95                   Unsuccessful – No Customer
      99                   Service Attempt Failed


## Valid Status Codes [/enumerations/dispatchStatus]

###Valid Status Codes [GET]

+ Request ()

    + Header

            Authorization: Bearer 7z9ZeGyweG98YMAyB0iSm2EiB6bD
            
+ Response 200 (application/json)

    + Body
            
            [{
                “code” : “20”,
                "description" : “En Route”
            }]


## Group Get Current Status

###Description

The “Get Current Status “ API will allow users to see the current status of a dispatch. In addition to the status codes, 
users will be able to see information related to the ETA , coordinates of the driver or dispatcher working on a job, 
coordinates of the disablement location and coordinates of the “tow to” location.

###Sample Request URL

/dispatches/3293346787/status

###Errors 

    HTTP Code        HTTP Reason                    Error Code              Message                         Reason 
                     Phrase 
    ---------        ------------------             ----------              -------                         ------
    
    401             UNAUTHORIZED                    INVALID_TOKEN           oauth.v2.InvalidAccessToken     A valid OAuth token was 
                                                                            :Invalid access token           not provided.
                                                                            
    403             FORBIDDEN                       FORBIDDEN_RESOURCE      The resource is not allowed by  Drivers view or refuse job 
                                                                            the current user.               offers.
                                                                                                   
    404             JOB NOT FOUND                   INVALID_TOKEN                                           The requested job record 
                                                                                                            doesn’t exist.
                                                                                                            
    500             SERVER ERROR                    UNKNOWN                 Unknown Error                   An unknown error occurred at
                                                                                                            the server
 
# Change Status

###Description

The Change Status API will allow dispatchers and drivers to update the current status for the dispatch along with the 
location coordinates if a GPS feature is available and enabled.

###Request URI Parameters

    Schema Property         Description                             Is Required       Type             Business Rules    
    ---------------         -----------                             -----------       ----             --------------
    
    dispatchRequestNumber   Dispatch Request Number from Agero        YES             String
    
###Sample Request URL

/dispatches/329345447/status

###Request JSON

    Schema Property         Description                             Is Required     Type             Business Rules    
    ---------------         -----------                             -----------     ----             --------------
    
    code                    The status code                         YES             String
    
    reason                  Reason for the status. Eg.              YES/NO          String          Some statuses require a 
                            Rejection reason.                                                       reason 
    
    eta                     Service ProviderETA in minutes          YES/NO          Integer         Required to accept a dispatch 
                                                                                                    request.
   
    extJobId                External Job Id                         NO              String          
   
    source                  Source System                           YES/NO          String          Required if 3rd party
   
    latitude                Current GPS Latitude                    NO              Double              
    
    longitude               Current GPS Longitude                   NO              Double
   
    statusTime              Date and Time when the                  YES             UTC Time
                            status was reported
                            

###Response JSON

    Schema Property         Description                             Is Required     Type             Business Rules    
    ---------------         -----------                             -----------     ----             --------------
    
    code                    The status code                         YES             String
    
    description             The description of the status code      Readonly        String
    
    reason                  Reason for the status. Eg.              YES/NO          String          Some statuses require a 
                            Rejection reason.                                                       reason 
    
    eta                     Service ProviderETA in minutes          YES/NO          Integer         Required to accept a dispatch 
                                                                                                    request.
   
    extJobId                External Job Id                         NO              String          
   
    source                  Source System                           YES/NO          String          Required if 3rd party
   
    latitude                Current GPS Latitude                    NO              Double              
    
    longitude               Current GPS Longitude                   NO              Double
   
    statusTime              Date and Time when the                  YES             UTC Time
                            status was reported
    
    reportedBy              Whether the status was                  Readonly        String          Set by the system     
                            reported by: Driver, Dispatcher,
                            or Agero.
 
###Errors 

    HTTP Code        HTTP Reason            Error Code              Message                         Reason 
                     Phrase 
    ---------        ------------------     ----------              -------                         ------
    
    401             UNAUTHORIZED            INVALID_TOKEN           oauth.v2.InvalidAccessToken     A valid OAuth token was 
                                                                    :Invalid access token           not provided.
                                                                            
    
    403             FORBIDDEN               FORBIDDEN_RESOURCE      The resource is not allowed by  Drivers view or refuse job 
                                                                    the current user.               offers.
                                                                                                   
    404             JOB NOT FOUND                                                                   The requested job record 
                                                                                                    doesn’t exist.
                                                                                                            
                                                    
    500             SERVER ERROR            UNKNOWN                 Unknown Error                   An unknown error occurred at
                                                                                                    the server                                                                                   

## Get Current Status [/dispatches/{dispatchRequestNumber}/status]

###Get Current Status [GET]

+ Request ()

    + Header

            Authorization: Bearer 7z9ZeGyweG98YMAyB0iSm2EiB6bD
            
+ Response 200 (application/json)

    + Body
    
            {
                “code” : “20”,
                “description” : “En Route”,
                "eta" : “30”,
                “etaTime” : “2013-01-31 08:30 AM”,
                “etaRevised” : 32;
                "latitude" : 40.1234,
                "longitude" : -70.1234,
                “source” : “TowSoft”,
                “extJobId” : “789239”,
                “timestamp” : “2013-01-31 08:00 AM”,
                “reportedBy” : “Driver”
            }

##Change Status [POST]

+ Request (application/json)

    + Header

            Authorization: Bearer 7z9ZeGyweG98YMAyB0iSm2EiB6bD
            
    + Body
    
            {
                “code” : “20”,
                "eta" : “30”,
                "latitude" : 40.1234,
                "longitude" : -70.1234,
                “source” : “TowSoft”,
                “extJobId” : “789239”,
                “statusTime” : “2013-01-31 08:00 AM”
            }
                        
+ Response 200 (application/json)

    + Body
    
            {
                “code” : “20”,
                “description” : “En Route”,
                "eta" : “30”,
                "latitude" : 40.1234,
                "longitude" : -70.1234,
                “source” : “TowSoft”,
                “extJobId” : “789239”,
                “statusTime” : “2013-01-31 08:00 AM”,
                “reportedBy” : “Driver”
            }
            
##Group Get Status History

###Description

The “Get Status History” API will allow dispatchers and drivers to see all jobs that are in an Inactive status including Job 
Cleared, Expired, Refused, Rejected, Cancelled, and Unsuccessful.

The jobs listed on the selected History day will include the following -
   
- Service name
- Driver's Name (when Job Cleared, Cancelled - if post driver assignment, and Unsuccessful)
- Equipment
- Disablement Address
- PO# (when Job Cleared, Cancelled - if post driver assignment, and Unsuccessful)
- Color/year/make/model,

###Request URI Parameters

    Schema Property         Description                             Is Required     Type             Business Rules    
    ---------------         -----------                             -----------     ----             --------------
    
    dispatchRequestNumber   Dispatch Request Number from Agero      YES             String
    
###Response JSON

    Schema Property         Description                             Is Required     Type             Business Rules    
    ---------------         -----------                             -----------     ----             --------------
    
                            Represents an array statuses             YES            DispatchStatus[]
                            that were changed on the job
    
   
###Errors 

    HTTP Code        HTTP Reason              Error Code              Message                         Reason 
                     Phrase 
    ---------        ------------------       ----------              -------                         ------
    
    401             Unauthorized              INVALID_TOKEN           oauth.v2.InvalidAccessToken     A valid OAuth token was 
                                                                      :Invalid access token           not provided.
                                                                            
    403             Forbidden                 FORBIDDEN_RESOURCE      The resource is not allowed by  Drivers view or refuse job 
                                                                      the current user.               offers.
                                                                                                   
    404             Job Not Found                                                                     The requested job record 
                                                                                                      doesn’t exist.
                                                                                                            
    500             Server Error              UNKNOWN                 Unknown Error                   An unknown error occurred at
                                                                                                      the server
                                                                                                            
##Get Status History [/dispatches/{dispatchRequestNumber}/status/history]

###Get Status History [GET]

+ Request ()

    + Header

            Authorization: Bearer 7z9ZeGyweG98YMAyB0iSm2EiB6bD
            
+ Response 200 (application/json)

    + Body
    
            [
                {
                    “code” : “20”,
                    “description” : “En Route”,
                    "eta" : “30”,
                    “etaTime” : “2013-01-31 08:30 AM”,
                    “etaRevised” : 32;
                    "latitude" : 40.1234,
                    "longitude" : -70.1234,
                    “source” : “TowSoft”,
                    “extJobId” : “789239”,
                    “timestamp” : “2013-01-31 08:00 AM”,
                    “reportedBy” : “Driver”
                },
                {
                    “code” : “30”,
                    “description” : “On Scene”,
                    "eta" : “30”,
                    “etaTime” : “2013-01-31 08:30 AM”,
                    “etaRevised” : 32;
                    "latitude" : 40.1234,
                    "longitude" : -70.1234,
                    “source” : “TowSoft”,
                    “extJobId” : “789239”,
                    “timestamp” : “2013-01-31 08:30 AM”,
                    “reportedBy” : “Driver”
                }
            ]
            

## Group Undo Current Status

###Description
The Undo current status API will allow dispatchers and drivers to revert the current status for the dispatch . This is to 
be used if dispatch status was changed accidentally

###Sample Request URL

/dispatches/329345447/status?action=undo

###Request URI Parameters

    Schema Property         Description                             Is Required     Type             Business Rules    
    ---------------         -----------                             -----------     ----             --------------
    
    dispatchRequestNumber   Dispatch Request Number from Agero      YES             String
    
###Request JSON

N/A

###Sample Request Body

N/A
    
###Response JSON

    Schema Property         Description                             Is Required     Type             Business Rules    
    ---------------         -----------                             -----------     ----             --------------
    
    code                    The status code                         YES             String
    
    description             The description of the status code      Readonly        String
    
    reason                  Reason for the status. Eg.              YES/NO          String          Some statuses require a 
                            Rejection reason.                                                       reason 
    
    eta                     Service ProviderETA in minutes          YES/NO          Integer         Required to accept a dispatch 
                                                                                                    request.
   
    extJobId                External Job Id                         NO              String          
   
    source                  Source System                           YES/NO          String          Required if 3rd party
   
    latitude                Current GPS Latitude                    NO              Double              
    
    longitude               Current GPS Longitude                   NO              Double
   
    statusTime              Date and Time when the                  YES             UTC Time
                            status was reported
    
    reportedBy              Whether the status was                  Readonly        String          Set by the system     
                            reported by: Driver, Dispatcher,
                            or Agero.
 
   
###Errors 

    HTTP Code        HTTP Reason                    Error Code              Message                         Reason 
                     Phrase 
    ---------        ------------------             ----------              -------                         ------
    
    401             Unauthorized                    INVALID_TOKEN           oauth.v2.InvalidAccessToken     A valid OAuth token was 
                                                                            :Invalid access token           not provided.
                                                                            
    403             Forbidden                       FORBIDDEN_RESOURCE      The resource is not allowed by  Drivers view or refuse 
                                                                            the current user.               job offers.
                                                                                                   
    404             Job Not Found                                                                           The requested job record 
                                                                                                            doesn’t exist.
                                                                                                            
    500             Server Error                    UNKNOWN                 Unknown Error                   An unknown error occurred at
                                                                                                            the server
                                                                                                            

##Undo Current Status [/dispatches/{dispatchRequestNumber}/status?action=undo]

###Undo Current Status [POST]

+ Request ()

    + Header

            Authorization: Bearer 7z9ZeGyweG98YMAyB0iSm2EiB6bD
            
+ Response 200 (application/json)

    + Body
    
            {
                “code” : “20”,
                “description” : “En Route”,
                "eta" : “30”,
                "latitude" : 40.1234,
                "longitude" : -70.1234,
                “source” : “TowSoft”,
                “extJobId” : “789239”,
                “statusTime” : “2013-01-31 08:00 AM”,
                “reportedBy” : “Driver”
            }

##Group Track Status GPS Location

###Description

This API will allow dispatchers or Customer Web Portal customers to track the current GPS location of a driver when the
driver is In route or in-tow. The frequency of updates will be configured on the client app.

###Sample Request URL

/dispatches/329345447/status/track

###Request URI Parameters

    Schema Property         Description                             Is Required     Type             Business Rules    
    ---------------         -----------                             -----------     ----             --------------
    
    dispatchRequestNumber   Dispatch Request Number from Agero      YES             String
    
###Request JSON

    Schema Property         Description                             Is Required     Type             Business Rules    
    ---------------         -----------                             -----------     ----             --------------
    
    code                    The status code                         YES             String
    
    eta                     Service ProviderETA in minutes          YES/NO          Integer         Required to accept a dispatch 
                                                                                                    request.
   
    extJobId                External Job Id                         NO              String          
   
    source                  Source System                           YES/NO          String          Required if 3rd party
   
    latitude                Current GPS Latitude                    NO              Double              
    
    longitude               Current GPS Longitude                   NO              Double
   
    timestamp               Date and Time when the                  YES             UTC Time
                            status was reported

###Response JSON

    Schema Property         Description                             Is Required     Type             Business Rules    
    ---------------         -----------                             -----------     ----             --------------
    
    code                    The status code                         YES             String
    
    description             The description of the status code      Readonly        String
    
    reason                  Reason for the status. Eg.              YES/NO          String          Some statuses require a 
                            Rejection reason.                                                       reason 
    
    eta                     Service ProviderETA in minutes          YES/NO          Integer         Required to accept a dispatch 
                                                                                                    request.
   
    extJobId                External Job Id                         NO              String          
   
    source                  Source System                           YES/NO          String          Required if 3rd party
   
    latitude                Current GPS Latitude                    NO              Double              
    
    longitude               Current GPS Longitude                   NO              Double
   
    timestamp              Date and Time when the                   YES             UTC Time
                            status was reported
    
    reportedBy              Whether the status was                  Readonly        String          Set by the system     
                            reported by: Driver, Dispatcher,
                            or Agero.
 
   
###Errors 

    HTTP Code        HTTP Reason                Error Code              Message                         Reason 
                     Phrase 
    ---------        ------------------         ----------              -------                         ------
    
    401             Unauthorized                INVALID_TOKEN           oauth.v2.InvalidAccessToken     A valid OAuth token was 
                                                                        :Invalid access token           not provided.
                                                                            
    403             Forbidden                   FORBIDDEN_RESOURCE      The resource is not allowed by  Drivers view or refuse job 
                                                                        the current user.               offers.
                                                                                               
    404             Job Not Found                                                                       The requested job record 
                                                                                                        doesn’t exist.
                                                                                                            
    500             Server Error                UNKNOWN                 Unknown Error                   An unknown error occurred at
                                                                                                        the server
                                                                                                        
                                                                                                           
##Track Status GPS Location [/dispatches/{dispatchRequestNumber}/status/track]

###Track Status GPS Location [POST]

+ Request (application/json)

    + Header

            Authorization: Bearer 7z9ZeGyweG98YMAyB0iSm2EiB6bD
            
            
    + Body
    
            {
                “code” : “20”,
                "eta" : “30”,
                "latitude" : 40.1234,
                "longitude" : -70.1234,
                “source” : “TowSoft”,
                “extJobId” : “789239”,
                “timestamp” : “2013-01-31 08:00 AM”
            }
    
            
+ Response 200 (application/json)

    + Body
    
            {
                “code” : “20”,
                “description” : “En Route”,
                "eta" : “30”,
                "latitude" : 40.1234,
                "longitude" : -70.1234,
                “source” : “TowSoft”,
                “extJobId” : “789239”,
                “timestamp” : “2013-01-31 08:00 AM”,
                “reportedBy” : “Driver”
            }

##Group Track PTO Event

###Description

The Track PTO event will allow client app to track a power-take-off (PTO) equipment event, for those trucks equipped with sensors.
The API will capture the event status meaning:

- PTO is On
- PTO is Off.


###Request URI Parameters

    Schema Property         Description                             Is Required     Type             Business Rules    
    ---------------         -----------                             -----------     ----             --------------
    
    dispatchRequestNumber   Dispatch Request Number from Agero      YES             String
    
###Sample Request URL

/dispatches/329345447/status/pto   

###Valid PTO Events

    PTO_ON
    PTO_OFF
    
###Request JSON

    Schema Property         Description                     Is Required     Type             Business Rules    
    ---------------         -----------                     -----------     ----             --------------
    
    event                   The PTO Event                   YES             String
    
   
###Errors 

    HTTP Code        HTTP Reason              Error Code              Message                         Reason 
                     Phrase 
    ---------        ------------------       ----------              -------                         ------
    
    401             Unauthorized              INVALID_TOKEN           oauth.v2.InvalidAccessToken     A valid OAuth token was 
                                                                      :Invalid access token           not provided.

    404             Job Not Found                                                                     The requested job record 
                                                                                                      doesn’t exist.
                                                                                                            
    500             Server Error              UNKNOWN                 Unknown Error                   An unknown error occurred at
                                                                                                      the server
                                                                                                            
##Track PTO Event [/dispatches/{dispatchRequestNumber}/status/pto]

###Track PTO Event [POST]

+ Request (application/JSON)

    + Header

            Authorization: Bearer 7z9ZeGyweG98YMAyB0iSm2EiB6bD
            
    + Body
    
            {
                “event” : “PTO_ON”
            }
            
+ Response 200 ()

                        

##Group Upload Equipment picture

###Description

The Upload Equipment Picture API allows Drivers and Dispatchers to upload a picture of the equipment for a 
given vendor id and driver id. This functionality is to be used when the first time user is trying to post a picture. Image is 
transferred to server by Multipart/Form data (i.e. passing image data as stream) technique by calling REST API.

###Sample Request URL

/vendors/12345/drivers/1/driverEquipment

###Request Header

    HeaderName               Description                        Is Required             Expected Value     
    ----------               -----------                        -----------             --------------
   
    Content-Type             Indicates the type of              YES                     multipart/form-data; 
                             the content being posted                                   boundary=AaB03x
   
    Content-Length           Indicates the length of            YES                     This is a dynamic value which depends 
                             the content                                                on the size of the file being uploaded 
                                                                                        (from the first AaB03x down, including 
                                                                                        the file data)
                                                                                             
###Request Body

    Schema Property         Description                  Is Required         Type        Business Rules 
    ---------------         -----------                  -----------         ----        --------------
    
    equipmentPicture        Binary representation        YES                 Byte[]
                            of the profile picture  
                            being uploaded
    
    Filename                Indicates the name of        YES                 String
                            the file being uploaded 
                            

--AaB03x 

  content-disposition: form-data; name="equpmentPicture"; filename="{filename}" Content-Type: {mimetype}
  
 …contents of equipmentpicture.jpg…
 
--AaB03x--

###Response JSON
N/A

###Sample Response
HTTP 201 Resource Created

###Errors 

    HTTP Code       HTTP Reason Phrase              Message                        Reason 
    ---------       ------------------              -------                        ------
    400             REQUEST_PARAMETER_MISSING       Request Validation failed.     One or more invalid parameters we passed.
                                                                                   See the innerErrors collection for a list 
                                                                                   of invalid parameters.
    
    401             UNAUTHORIZED                    oauth.v2.InvalidAccessToken:   A valid OAuth token 
                                                    Invalid access token           was not provided.
                                                                 
    403             RESOURCE_EXISTS                 A profile exists for           Once a profile pic is created for a user, 
                                                    this user.                     it cannot be created again. A PUT should 
                                                                                   be made instead to update the current profile.
                                                                                                 
    500             SERVER ERROR                    Unknown Error                  An unknown error occurred at the server

#Update Equipment picture

###Description

The Update Equipment picture API allows drivers and dispatchers to update a picture of the equipment for a given vendor id 
and driver id. This API can be used only if the equipment picture already exists. The picture is transferred to server by 
Multipart/Form data (i.e. passing picture data as stream) technique by calling REST API.


###Request Header

    HeaderName               Description                    Is Required         Expected Value     
    ----------               -----------                    -----------         --------------
   
    Content-Type             Indicates the type of          YES                 multipart/form-data; 
                             the content being posted                           boundary=AaB03x
   
    Content-Length           Indicates the length of        YES                 This is a dynamic value which depends 
                             the content                                        on the size of the file being uploaded 
                                                                                (from the first AaB03x down, including 
                                                                                the file data)
                                                                                              
###Request Body

    Schema Property         Description                 Is Required         Type        Business Rules 
    ---------------         -----------                 -----------         ----        --------------
    
    equipmentPicture        Binary representation           YES             Byte[]
                            of the profile picture  
                            being uploaded
    
    Filename                Indicates the name of           YES             String
                            the file being uploaded 
                            

--AaB03x 

  content-disposition: form-data; name="equpmentPicture"; filename="{filename}" Content-Type: {mimetype}
  
 …contents of equipmentpicture.jpg…
 
--AaB03x--

###Response JSON
N/A

###Sample Response
HTTP 201 Resource Created

###Errors 

    HTTP Code       HTTP Reason Phrase              Message                       Reason 
    ---------       ------------------              -------                       ------
    
    400             REQUEST_PARAMETER_MISSING      Request Validation failed.     One or more invalid parameters we passed.
                                                                                  See the innerErrors collection for a list 
                                                                                  of invalid parameters.
    
    401             INVALID_TOKEN                  oauth.v2.InvalidAccessToken:   A valid OAuth token 
                                                   Invalid access token           was not provided.
                                                                     
    404             NO_VENDOR_FOUND                NO Vendor exists for given     Returned when no Vendor could not be found 
                                                   vendorId                       for the provided Vendor Id
                                                                                       
    500             SERVER ERROR                   Unknown Error                  An unknown error occurred at the server
    
    404             NO_DRIVER_FOUND                NO Driver exists for given     Returned when no driver could not be found 
                                                   driverid                       for the provided driver Id
                                                        
    404             NO_RESOURCE_FOUND              No picture exisrs              


##Upload Equipment picture [/vendors/{vendorId}/drivers/{driverId}/driverEquipment/picture]

###Upload Equipment picture [POST]

+ Request (multipart/form-data)

    + Header

            Authorization: Bearer 7z9ZeGyweG98YMAyB0iSm2EiB6bD
            
            
    + Body
    
            --AaB03x content-disposition: form-data; name="equpmentPicture"; filename="{filename}" 
            Content-Type: {mimetype}
            
            …contents of equipmentpicture.jpg…
            
            --AaB03x--
            
            
+ Response 201 ()

## Update Equipment picture [PUT]

+ Request (multipart/form-data)

    + Header

            Authorization: Bearer 7z9ZeGyweG98YMAyB0iSm2EiB6bD
            
    + Body
    
            --AaB03x content-disposition: form-data; name="equpmentPicture"; filename="{filename}" 
            Content-Type: {mimetype}
            
            …contents of equipmentpicture.jpg…
            
            --AaB03x--
            
            
+ Response 201 ()



##Group Create Profile

###Description

The “Create Profile” API allows drivers and dispatchers to create a new profile for the authenticated user. 
This resource is forbidden if a profile already exists for the user. The Profile will capture the name of 
the user, cell phone #, email, office email, office phone and preferences for GPS tracking and Auto Assign 
Jobs to me for Dispatchers only.

###Sample Request URL

/profile


###Request JSON

    Schema Property       Description                 Is Required         Type        Business Rules 
    ---------------       -----------                 -----------         ----        --------------
    
    userInfo              User’s Personal and           YES               UserInfo
                          Office Info
                          
    Preferences           User’s application            NO                Preferences
                          preferences   
                          

###Sample Request

    {
        “userInfo” :
        {
            "name" : “Jon Doe”,
            "cellPhone" : “555-555-5555”,
            "email" : “jdoe@gmail.com”,
            “officeEmail” : “jdoe@abctowing.com”,
            “officePhone” : “555-555-1111”
        },
        “preferences” :
        {
            “jobFilter” : “1”,
            “jobViewOpt” : “Service, Address, City”,
            “gpsTracking” : “true”,
            “inactivityAlert” : “true”,
            “autoAssignAllJobs” : “false”
        }
    }

Only UserInfo is required to create a profile. Application preferences are defaulted when this is 
the case. The response from the POST operation will contain the entire newly created profile 
object so client side state matches database state.


###Response JSON

    Schema Property         Description                        Is Required        Type        Business Rules 
    ---------------         -----------                        -----------        ----        --------------
    
    profileId               Profile ID                         YES                Integer

    userInfo                User’s Personal and Office Info    YES                UserInfo
   
    Preferences             User’s application preferences     YES                Preferences
                           

###Errors 

    HTTP Code       Error Code                  Message                         Reason 
    ---------       ----------                  --------                        -------                     
    
    401             INVALID_TOKEN               oauth.v2.InvalidAccessToken:    A valid OAuth token 
                                                Invalid access token            was not provided.
                                                                     
    400             REQUEST_PARAMETER_MISSING   Request Validation              One or more invalid parameters we passed.
                                                failed.                         See the innerErrors collection for a 
                                                                                list of invalid parameters
    
    403             RESOURCE_EXISTS             A profile exists for            Once a profile is created for a user, 
                                                this user.                      it cannot be created again. A PUT 
                                                                                should be made instead to update 
                                                                                the current profile.  
                                                                                                     
    500             SERVER ERROR                UNKNOWN                         An unknown error occurred at the server
    
#Update Profile 

###Description

The “Update Profile” API allows drivers and dispatchers to update an existing profile for the authenticated user. 
This resource is forbidden if a profile does not exist for the user. The Profile API allows users to update the 
name of the user, cell phone #, email, office email, office phone and preferences for ETA alerts and GPS tracking.

###Sample Request URL

/profile

##Request JSON

    Schema Property         Description                 Is Required      Type        Business Rules 
    ---------------         -----------                 -----------      ----        --------------
    
    userInfo                User’s Personal and         YES              UserInfo
                            Office Info
                          
    Preferences             User’s application          NO               Preferences
                            preferences   
                          
    
    

##Create Profile [/profile]

###Create Profile [POST]

+ Request (application/json)

    + Header

            Authorization: Bearer 7z9ZeGyweG98YMAyB0iSm2EiB6bD
            
    + Body
    
            {
                “userInfo” :
                {
                    "name" : “Jon Doe”,
                    "cellPhone" : “555-555-5555”,
                    "email" : “jdoe@gmail.com”,
                    “officeEmail” : “jdoe@abctowing.com”,
                    “officePhone” : “555-555-1111”
                },
                “preferences” :
                {
                    “jobFilter” : “1”,
                    “jobViewOpt” : “Service, Address, City”,
                    “gpsTracking” : “true”,
                    “inactivityAlert” : “true”,
                    “autoAssignAllJobs” : “false”
                }
            }
            
+ Response 200 (application/json)

    + Body
    
            {
                “profileId” : 1234,
                “userInfo” :
                {
                    "name" : “Jon Doe”,
                    "cellPhone" : “555-555-5555”,
                    "email" : “jdoe@gmail.com”,
                    “officeEmail” : “jdoe@abctowing.com”,
                    “officePhone” : “555-555-1111”
                },
                “preferences” :
                {
                    “JobFilter” : 1,
                    “JobViewOpt” : 0,
                    “gpsTracking” : “true”,
                    "etaAlerts" : “true”
                }
            }
            

##Update Profile [PUT]

+ Request (application/json)

    + Header

            Authorization: Bearer 7z9ZeGyweG98YMAyB0iSm2EiB6bD
            
    + Body
    
            {
                “userInfo” :
                {
                    "name" : “Jon Doe”,
                    "cellPhone" : “555-555-5555”,
                    "email" : “jdoe@gmail.com”,
                    “officeEmail” : “jdoe@abctowing.com”,
                    “officePhone” : “555-555-1111”
                },
                “preferences” :
                {
                    “JobFilter” : 1,
                    “JobViewOpt” : 0,
                    “gpsTracking” : “true”,
                    "etaAlerts" : “true”,
                }
            }

+ Response 200 (application/json)

    + Body
    
            {
                “profileId” : 1234,
                “userInfo” :
                {
                    "name" : “Jon Doe”,
                    "cellPhone" : “555-555-5555”,
                    "email" : “jdoe@gmail.com”,
                    “officeEmail” : “jdoe@abctowing.com”,
                    “officePhone” : “555-555-1111”
                },
                “preferences” :
                {
                    “JobFilter” : 1,
                    “JobViewOpt” : 0,
                    “gpsTracking” : “true”,
                    "etaAlerts" : “true”
                }
            }
            
##Group Update UserInfo 

###Description

The “Partial Get” API allows client apps to retrieve the userInfoand preferences by their sub resources.

### SampleURL

/profile/userInfo

### Request

    {
        "name" : “Jon Doe”,
        "cellPhone" : “555-555-5555”,
        "email" : “jdoe@gmail.com”,
        “officeEmail” : “jdoe@abctowing.com”,
        “officePhone” : “555-555-1111”
    }


    
###Errors 

    HTTP Code       Error Code                  Message                         Reason 
    ---------       ----------                  --------                        -------                     
    
    401             INVALID_TOKEN               oauth.v2.InvalidAccessToken:    A valid OAuth token 
                                                Invalid access token            was not provided.
                                                                     
    400             REQUEST_PARAMETER_MISSING   Request Validation              One or more invalid parameters we passed.
                                                failed.                         See the innerErrors collection for a 
                                                                                list of invalid parameters

    500                                         Unknown                         An unknown error occurred at the server


##Update UserInfo [/profile/userInfo]
##Update UserInfo [PUT]

+ Request (application/json)

    + Header

            Authorization: Bearer 7z9ZeGyweG98YMAyB0iSm2EiB6bD
    
    + Body
    
            {
                "name" : “Jon Doe”,
                "cellPhone" : “555-555-5555”,
                "email" : “jdoe@gmail.com”,
                “officeEmail” : “jdoe@abctowing.com”,
                “officePhone” : “555-555-1111”
            }

+ Response 200 ()

##Group Update Preferences

###Description

The “Partial Get” API allows client apps to retrieve the userInfoand preferences by their sub resources.

### SampleURL

/profile/preferences

### Request

    {
        “JobFilter” : 1,
        “JobViewOpt” : 0,
        “gpsTracking” : “true”,
        "etaAlerts" : “true”
    }


    
###Errors 

    HTTP Code       Error Code                  Message                         Reason 
    ---------       ----------                  --------                        -------                     
    
    401             INVALID_TOKEN               oauth.v2.InvalidAccessToken:    A valid OAuth token 
                                                Invalid access token            was not provided.
                                                                     
    400             REQUEST_PARAMETER_MISSING   Request Validation              One or more invalid parameters we passed.
                                                failed.                         See the innerErrors collection for a 
                                                                                list of invalid parameters

    500                                         Unknown                         An unknown error occurred at the server


##Update Preferences [/profile/preferences]

##Update Preferences [PUT]

+ Request (application/json)

    + Header

            Authorization: Bearer 7z9ZeGyweG98YMAyB0iSm2EiB6bD
    
    + Body
    
            {
                “JobFilter” : 1,
                “JobViewOpt” : 0,
                “gpsTracking” : “true”,
                "etaAlerts" : “true”
            }
            
+ Response 200 ()


##Group Upload a profile picture

###Description

The “Upload a profile picture “API allows drivers and dispatchers to upload a
picture for a given vendor id and driver id. This API will be used by the first 
time user that is trying to post a picture.Picture is transferred to server by 
Multipart/Form data (i.e. passing picture data as stream) technique by calling REST API.


###Request Header

    HeaderName               Description                        Is Required             Expected Value     
    ----------               -----------                        -----------             --------------
   
    Content-Type             Indicates the type of              YES                     multipart/form-data; 
                             the content being posted                                   boundary=AaB03x
   
    Content-Length           Indicates the length of            YES                     This is a dynamic value which depends 
                             the content                                                on the size of the file being uploaded 
                                                                                        (from the first AaB03x down, including 
                                                                                        the file data)
                                                                                              
###Request Body

    Schema Property         Description                 Is Required         Type        Business Rules 
    ---------------         -----------                 -----------         ----        --------------
    
    profilePicture          Binary representation           YES              Byte[]
                            of the profile picture  
                            being uploaded
    
    Filename                Indicates the name of           YES              String
                            the file being uploaded 
                            

###Sample Request Body

    --AaB03x 
    
      content-disposition: form-data; name="equpmentPicture"; filename="{filename}" Content-Type: {mimetype}
      
      
     …contents of profilepicture.jpg…
     
     
    --AaB03x--

###Response JSON
N/A

###Sample Response

HTTP 201 Resource Created

###Errors 

    HTTP Code       HTTP Reason Phrase              Message                         Reason 
    ---------       ------------------              -------                         ------
    
    400             REQUEST_PARAMETER_MISSING       Request Validation failed.     One or more invalid parameters we passed.
                                                                                   See the innerErrors collection for a list 
                                                                                   of invalid parameters.
    
    401             INVALID_TOKEN                   oauth.v2.InvalidAccessToken:   A valid OAuth token 
                                                    Invalid access token           was not provided.
                                                                     
    403             RESOURCE_EXISTS                 A profile exists for this      Once a profile pic is created for a user, 
                                                    user.                          it cannot be created again. A PUT should 
                                                                                   be made instead to update the current profile.
                                                                                       
    500             SERVER ERROR                    Unknown Error                  An unknown error occurred at the server
    


## Upload a profile picture [/profile/picture]

### Upload a profile picture [POST]

+ Request (multipart/form-data)

    + Header

            Authorization: Bearer 7z9ZeGyweG98YMAyB0iSm2EiB6bD
            
            
    + Body
    
            --AaB03x content-disposition: form-data; name="profilePicture"; filename="{filename}" 
            Content-Type: {mimetype}
            
            …contents of profilepicture.jpg…
            
            --AaB03x--
            
            
+ Response 201 ()


##Group Update a profile picture

###Description

The “Update a profile picture” API allows drivers and dispatchers to override an existing profile picture.Picture is transferred to server by Multipart/Form data (i.e. passing picture data as stream) technique by calling REST API.

A dispatcher / owner can however update the profile pictures of drivers by passing a driverId. If driverId is passed and the logged in user is not a dispatcher / owner, API will return a forbidden (HTTP Status Code:403) error.

###Request Header

    HeaderName               Description                        Is Required             Expected Value     
    ----------               -----------                        -----------             --------------
   
    Content-Type             Indicates the type of              YES                     multipart/form-data; 
                             the content being posted                                   boundary=AaB03x
   
    Content-Length           Indicates the length of            YES                     This is a dynamic value which depends 
                             the content                                                on the size of the file being uploaded 
                                                                                        (from the first AaB03x down, including 
                                                                                        the file data)

###Request Parameters

    Parameter Name          Description                         Is Required         Business Rules 
    ---------------         -----------                         -----------         --------------
    
    driverId               Represents the unique identifier     NO                  If not provided,profile picture of the 
                           of the driver for which profile                          logged in user will be updated.
                           pic is being updated
                                                                                              
###Request Body

    Schema Property         Description                 Is Required         Type        Business Rules 
    ---------------         -----------                 -----------         ----        --------------
    
    profilePicture          Binary representation           YES              Byte[]
                            of the profile picture  
                            being uploaded
    
    Filename                Indicates the name of           YES              String
                            the file being uploaded 
                            

###Sample Request Body

    --AaB03x 
    
      content-disposition: form-data; name="equpmentPicture"; filename="{filename}" Content-Type: {mimetype}
      
      
     …contents of profilepicture.jpg…
     
     
    --AaB03x--

###Response JSON
N/A

###Sample Response

HTTP 200 OK

###Errors 

    HTTP Code       HTTP Reason Phrase              Message                         Reason 
    ---------       ------------------              -------                         ------
    
    400             REQUEST_PARAMETER_MISSING       Request Validation failed.     One or more invalid parameters we passed.
                                                                                   See the innerErrors collection for a list 
                                                                                   of invalid parameters.
    
    401             INVALID_TOKEN                   oauth.v2.InvalidAccessToken:   A valid OAuth token 
                                                    Invalid access token           was not provided.
                                                                     
    403             RESOURCE_EXISTS                 A profile exists for this      Once a profile pic is created for a user, 
                                                    user.                          it cannot be created again. A PUT should 
                                                                                   be made instead to update the current profile.
                                                                                       
    500             SERVER ERROR                    Unknown Error                  An unknown error occurred at the server
  
##Update a profile picture [/profile/picture?driverId={driverId}]   

##Update a profile picture [PUT]

+ Request (multipart/form-data)

    + Header

            Authorization: Bearer 7z9ZeGyweG98YMAyB0iSm2EiB6bD
            
            
    + Body
    
            --AaB03x content-disposition: form-data; name="profilePicture"; filename="{filename}" 
            Content-Type: {mimetype}
            
            …contents of profilepicture.jpg…
            
            --AaB03x--
            
            
+ Response 200 ()

##Group Add a preferred facility

###Description

The “Add a preferred facility” API allows a dispatcher to add a facility to his preferred list of facilities for which he wants to receive jobs .

###Sample Request URL

/profile/facilities

###Response JSON

    Schema Property         Description                      Is Required         Type        Business Rules 
    ---------------         -----------                      -----------         ----        --------------
    
    facilityId              Unique identifier of the         YES                 String
                            facility to be added to 
                            the preferred list 
                            
###Sample Request Body

    {
    "facilityId" : “1”
    }

###Sample Request 

    POST https://agero-test.enterprise.agero.com/v1/id/profile/facilities HTTP/1.1
    Host: agero-test.enterprise.agero.com
    Content-Type: application/json
    Content-Length:
    Authorization: Bearer 7z9ZeGyweG98YMAyB0iSm2EiB6bD
    
    {
    "facilityId" : “1”
    }
    
###Response JSON

N/A

###Sample Response Body

HTTP/1.1 200 OK

###Errors 

    HTTP Code       HTTP Reason Phrase       Error Code           Message                         Reason 
    ---------       ------------------       ----------           -------                         ------
    
    401             Unauthorized             INVALID_TOKEN        oauth.v2.InvalidAccessToken:    A valid OAuth token 
                                                                  Invalid access token            was not provided.
                                                                     
    403             Forbidden                FORBIDDEN_RESOURCE   The resource is not             Drivers view or refuse 
                                                                  allowed by the current          job offers.
                                                                  user.
    
    404             Job Not Found                                                                 The requested job record
                                                                                                  doesn’t exist.
                                                                                                     
    500             Server Error             UNKNOWN              Unknown Error                   An unknown error occurred 
                                                                                                  at the server


##Add a preferred facility [/profile/facilities]

##Add a preferred facility [POST]
                                                                                                     
+ Request (application/json)

    + Header

            Authorization: Bearer 7z9ZeGyweG98YMAyB0iSm2EiB6bD
    
    + Body
    
            {
                 "facilityId" : “1”
            }
            
            
+ Response 200 ()

##Group Remove a preferred facility

###Description

The “Remove a preferred facility” API allows a dispatcher to remove a facility from his preferred list 
of facilities for which he wants to receive jobs.

###Sample Request URL

/profile/facilities/3


###Request Parameters

    Schema Property         Description                                 Is Required         Type        Business Rules 
    ---------------         -----------                                 -----------         ----        --------------
    
    facilityId              Unique identifier of the facility               YES            String   
                            to be added to the preferred list 

###Sample Request Body

N/A

###Sample Request

    DELETE https://agero-test.enterprise.agero.com/v1/id/profile/facilities/3 HTTP/1.1
    
    Host: agero-test.enterprise.agero.com
    
    Authorization: Bearer 7z9ZeGyweG98YMAyB0iSm2EiB6bD

###Response JSON

N/A

###Sample Response Body

HTTP/1.1 200 OK

##Remove a preferred facility [/profile/facilities/{facilityId}] 

###Remove a preferred facility[DELETE]

+ Request ()

    + Header

            Authorization: Bearer 7z9ZeGyweG98YMAyB0iSm2EiB6bD

+ Response 200 ()


##Group Subscribe to Notifications

###Description

The “Subscribe to Notifications” API will allow mobile app users to register their devices so that mobile app users 
can receive push notifications from Roadside Connect. In order to register for Push Notification, the user has to be 
authenticated by the Security API.

###Sample Request URL

/pushNotification/subscribe

###Request JSON

    Schema Property         Description                 Is Required         Type        Business Rules 
    ---------------         -----------                 -----------         ----        --------------
    
    subscriptionId          Parse.com Client              YES               String
                            Unique ID
                          
    deviceId                The device id                 YES               String
                             
    deviceToken             The device Token              YES/NO            String      Required for iOS 
    
    platform                The Client Platform           NO                String      Android, iOS, HTML
    
    osVersion               The version of                NO                String
                            Android or iOS 
                            
                          

###Sample Request

    {
        "subscriptionId" : “JKLJIOHIOKKNKDSADWQDSD”
        "deviceId" : “ffffffff-bd6c-cc22-e117-73f80033c587”
        "deviceToken" : null
        "platform" : “Android”
        "osVersion" : “4.0.3”
    }

###Repsonse

HTTP 200


###Errors 

    HTTP Code       Error Code                  Message                       Reason 
    ---------       ----------                  --------                      -------                     
    
    400             REQUEST_PARAMETER_MISSING   Request Validation              One or more invalid parameters we passed.
                                                failed.                         See the innerErrors collection for a 
                                                                                list of invalid parameters
    
    400             INVALID_REQUEST             Missing request header 
                                                'X-application-key'.
   
    401             INVALID_TOKEN               oauth.v2.InvalidAccessToken:    A valid OAuth token 
                                                Invalid access token            was not provided.
                                                                     
    500             SERVER ERROR                UNKNOWN                         An unknown error occurred at the server
    

##Subscribe to Notifications [/pushNotification/subscribe] 

###Subscribe to Notifications [POST]

+ Request (application/json)

    + Header

            Authorization: Bearer 7z9ZeGyweG98YMAyB0iSm2EiB6bD
    
    + Body
    
            {
                "subscriptionId" : “JKLJIOHIOKKNKDSADWQDSD”
                "deviceId" : “ffffffff-bd6c-cc22-e117-73f80033c587”
                "deviceToken" : null
                "platform" : “Android”
                "osVersion" : “4.0.3”
            }

+ Response 200 ()

##Group Receive a Notification

###Description

The “Send a Notification “API will allow drivers and dispatchers to receive push notification on their registered devices.
Dispatchers will be able to receive push notifications based on the business rules setup on the client app.

The following push notifications are available for drivers and dispatchers:

- New Job Offer -This notification is sent out to dispatcher when a new job offer is sent out by Agero
- ETA Rejected- This notification is sent out to dispatcher when Agero rejects the ETA submitted by the Dispatcher
- Job Approved-This notification is sent out to dispatcher when Agero approves the ETA submitted by the Dispatcher
- Job Assigned-This notification is sent out to Driver when Dispatcher assigns job to a driver
- JobReassigned-This notification is sent out to Driver when Dispatcher reassigns an assigned job to another driver
- Job Cancelled- This notification is sent out to Dispatcher and an Assigned Driver when a Agero cancels a job

###Sample Request URL

/pushNotification/notify

###Request JSON

    Schema Property                 Description                 Is Required         Type        Business Rules 
    ---------------                 -----------                 -----------         ----        --------------
    
    notificationType                Type of notification           YES               String      Possible Values: 
                                                                                                 NewJobOffered 
                                                                                                 JobAssigned
                                                                                                 JobReAssigned
                                                                                                 ETAEvaluation 
                                                                                                 ETARejected 
                                                                                                 JobApproved
                          
    payload.dispatchRequestNumber  The dispatchRequestNumber       YES               Integer
                             
    payload.title                  Title of the Notification       NO                String
    
    payload.message                The message body of             NO                String
                                   the notification

                          

###Sample Request

    {
        "notificationType" : “NewJobOffer”
        "payload" :
        {
            "dispatchRequestNumber" : 123456789
            "title" : “New Offer”
            "message" : “You have a new job.”
        }
    }


###Repsonse

HTTP 200


###Errors 

    HTTP Code       Error Code                  Message                       Reason 
    ---------       ----------                  --------                      -------                     
    
    400             REQUEST_PARAMETER_MISSING   Request Validation              One or more invalid parameters we passed.
                                                failed.                         See the innerErrors collection for a 
                                                                                list of invalid parameters
    
    401             INVALID_TOKEN               oauth.v2.InvalidAccessToken:    A valid OAuth token 
                                                Invalid access token            was not provided.
                                                                     
    500             SERVER ERROR                UNKNOWN                         An unknown error occurred at the server
    
    
##Receive a Notification [/pushNotification/notify] 

###Receive a Notification [POST]

+ Request (application/json)

    + Header

            Authorization: Bearer 7z9ZeGyweG98YMAyB0iSm2EiB6bD
    
    + Body
    
            {
                "notificationType" : “NewJobOffer”
                "payload" :
                {
                    "dispatchRequestNumber" : 123456789
                    "title" : “New Offer”
                    "message" : “You have a new job.”
                }
            }

+ Response 200 ()

##Group Get Signee Types

###Description

The“Get Signee Types “ API provides a list of Signee types that can sign a dispatch.

There are two types of Signees:

- Vehicle Owner/Driver
- Employee

###Sample Request URL

/enumerations/signeeTypes

###Request JSON

N/A

###Sample Request Body

N/A

###Repsonse JSON

    Schema Property             Description                 Is Required         Type        Business Rules 
    ---------------             -----------                 -----------         ----        --------------
    
                                Array of signee type            YES             signeeType[]
                          

###Sample Repsonse Body

    [
        {
            “code” : “1”,
            "description" : “Vehicle Owner / Driver”
        },
        {
            “code” : “2”,
            "description" : “Employee”
        }
    ]

###Errors 

    HTTP Code       Error Code                  Message                       Reason 
    ---------       ----------                  --------                      -------                     
    
    400             INVALID_REQUEST             Missing request header 
                                                'X-application-key'.
   
    401             INVALID_TOKEN               oauth.v2.InvalidAccessToken:    A valid OAuth token 
                                                Invalid access token            was not provided.
                                                                     
    500             UNKNOWN                     Unknown Error                   An unknown error occurred at the server
    
    
    
##Get Signee Types [/enumerations/signeeTypes] 

###Get Signee Types [GET]

+ Request ()

    + Header

            Authorization: Bearer 7z9ZeGyweG98YMAyB0iSm2EiB6bD
            

+ Response 200 (application/json)

    + Body
    
                [
                    {
                        “code” : “1”,
                        "description" : “Vehicle Owner / Driver”
                    },
                    {
                        “code” : “2”,
                        "description" : “Employee”
                    }
                ]

##Group Get Signature Reason Types

###Description

The “Get Signature Reason Types “ API provides a list of reasons for which a signature can be captured.

There are four types of signature reasons:
- Pre-existing Damages
- Unattended Tow
- Job Complete
- Vehicle & Keys Receivedee

##Sample Request URL

/enumerations/signatureReasonTypes

###Request JSON

N/A

###Sample Request Body

N/A

###Repsonse JSON

    Schema Property         Description                 Is Required         Type        Business Rules 
    ---------------         -----------                 -----------         ----        --------------
    
                        Array of signatureReason type    YES                signatureReasonType[]            

###Sample Repsonse Body

    [
        {
            “code” : “1”,
            "description" : “Pre-existing Damages”
        },
        {
            “code” : “2”,
            "description" : “Unattended Tow”
        },
        {
            “code” : “3”,
            "description" : “Job Complete”
        },
        {
            “code” : “4”,
            "description" : “Vehicle & Keys Received”
        }
    ]

###Errors 

    HTTP Code       Error Code                  Message                       Reason 
    ---------       ----------                  --------                      -------                     
    
    400             INVALID_REQUEST             Missing request header 
                                                'X-application-key'.
   
    401             INVALID_TOKEN               oauth.v2.InvalidAccessToken:    A valid OAuth token 
                                                Invalid access token            was not provided.
                                                                     
    500             UNKNOWN                     Unknown Error                   An unknown error occurred at the server
    
    
    
##Get Signature Reason Types [/enumerations/signatureReasonTypes] 

###Get Signature Reason Types [GET]

+ Request ()

    + Header

            Authorization: Bearer 7z9ZeGyweG98YMAyB0iSm2EiB6bD
            

+ Response 200 (application/json)

    + Body
    
            [
                {
                    “code” : “1”,
                    "description" : “Pre-existing Damages”
                },
                {
                    “code” : “2”,
                    "description" : “Unattended Tow”
                },
                {
                    “code” : “3”,
                    "description" : “Job Complete”
                },
                {
                    “code” : “4”,
                    "description" : “Vehicle & Keys Received”
                }
            ]

##Group Get Signature Location Types

###Description

The “Get Signature Reason Types “ API provides a list of location tpes for which a signature can be captured.
There are two types of signature reasons:

- Disablement site or Pick-Up location
- Tow Location

###Sample Request URL

/enumerations/signatureLocationTypes

###Request JSON

N/A

###Sample Request Body

N/A

###Repsonse JSON

    Schema Property         Description                 Is Required         Type        Business Rules 
    ---------------         -----------                 -----------         ----        --------------
                        
                          Array of signatureLocationType    YES                signatureLocationType[]            

###Sample Repsonse Body

    [
        {
            “code” : “1”,
            "description" : “Disablement site or Pick-Up location”
        },
        {
            “code” : “2”,
            "description" : “Tow Location”
        }
    ]
###Errors 

    HTTP Code       Error Code                  Message                       Reason 
    ---------       ----------                  --------                      -------                     
    
    400             INVALID_REQUEST             Missing request header 
                                                'X-application-key'.
   
    401             INVALID_TOKEN               oauth.v2.InvalidAccessToken:    A valid OAuth token 
                                                Invalid access token            was not provided.
                                                                     
    500             UNKNOWN                     Unknown Error                   An unknown error occurred at the server
    
    
    
## Get Signature Location Types [/enumerations/signatureLocationTypes] 

###Get Signature Location Types [GET]

+ Request ()

    + Header

            Authorization: Bearer 7z9ZeGyweG98YMAyB0iSm2EiB6bD
            

+ Response 200 (application/json)

    + Body
    
            [
                {
                    “code” : “1”,
                    "description" : “Disablement site or Pick-Up location”
                },
                {
                    “code” : “2”,
                    "description" : “Tow Location”
                }
            ]

##Group Get Notification Type Codes

###Description

The “Get Notification Type Codes “API provides a list of possible notifications that can be sent by the Instant Dispatch API.

###Sample Request URL

/enumerations/notificationTypeCodes

###Request JSON

N/A

###Sample Request Body

N/A

###Repsonse JSON

    Schema Property         Description                 Is Required         Type        Business Rules 
    ---------------         -----------                 -----------         ----        --------------
                        
                            Array of job status codes   YES            JobStatusCode[]       

###Sample Repsonse Body

    [
        {
            “code” : “1”,
            "description" : “New Job Offered”
        },
        {
            “code” : “2”,
            "description" : “Job Refused”
        },
        {
            “code” : “3”,
            "description" : “Job Accepted”
        },
        …
    ]
    
###Errors 

    HTTP Code       Error Code                  Message                       Reason 
    ---------       ----------                  --------                      -------                     
    
    400             INVALID_REQUEST             Missing request header 
                                                'X-application-key'.
   
    401             INVALID_TOKEN               oauth.v2.InvalidAccessToken:    A valid OAuth token 
                                                Invalid access token            was not provided.
                                                                     
    500             UNKNOWN                     Unknown Error                   An unknown error occurred at the server
    
   
###Complete List of Notifications

The table below shows complete list of Notifications 

    Status Code         Description          Currently available in phase I ?
    ----------          -----------          -------------------------------
    
     1                  New Job Offered             Y
    
     2                  Job Refused                 Y 
     3                  Job Accepted                Y
     
     4                  Job Assigned                Y
     
     5                  Job Cancelled               Y
     
     6                  Job Reassigned              Y
     
     7                  ETA Rejected                Y
     
     8                  Job Approved                Y
     
     9                  ETA Approaching             Y
     
    10                  Time To Leave               Y
    
    11                  ETA will not be met         Y
    
    12                  ETA Expired                 Y
    
    13                  Dispatch Update             N
    
    14                  DispatchExpired             N
    
    15                  Dispatch Cancelled GOA Accepted Y
    
    16                  ETA Accepted                N
    
    17                  Test Notification           Y
    
    18                  System Notification         N
    
##Get Notification Type Codes [/enumerations/notificationTypeCodes] 

###Get Notification Type Codes [GET]

+ Request ()

    + Header

            Authorization: Bearer 7z9ZeGyweG98YMAyB0iSm2EiB6bD
            

+ Response 200 (application/json)

    + Body
    
            [
                {
                    “code” : “1”,
                    "description" : “New Job Offered”
                },
                {
                    “code” : “2”,
                    "description" : “Job Refused”
                },
                {
                    “code” : “3”,
                    "description" : “Job Accepted”
                },
                …
            ]

##Group Notify Current Location

###Description

The” Notify Current Location” API allows the driver to post their current location when he is off or on a job. 
The Client App can call this API based on the business rules predefined for a product.

###Sample Request URL

/currentLocation

###Request Schema

    Schema Property         Description                 Is Required         Type        Business Rules 
    ---------------         -----------                 -----------         ----        --------------
    latitude              Represents the latitude           YES             Double
                          of driver’s geographic 
                          location at that moment
                          
    longitude             Represents the longitude of       YES             Double
                          driver’s geographic location
                          at that moment


###Sample Request Body

POST http://agero-test.apigee.net/v1/id/currentLocation HTTP/1.1

Host: agero-test.apigee.net

Content-Type: application/json

Authorization: Bearer 7z9ZeGyweG98YMAyB0iSm2EiB6bD

{
"latitude" : 40.1234,
"longitude" : -70.1234,
}

###Response Schema

N/A

###Sample Response

Http 200 OK

###Errors 

    HTTP Code       Error Code                  Message                       Reason 
    ---------       ----------                  --------                      -------                     
                                                
    401             INVALID_TOKEN               oauth.v2.InvalidAccessToken:  A valid OAuth token 
                                                Invalid access token          was not provided.
                                                                     
    500             UNKNOWN                     Unknown Error                 An unknown error occurred at the server
    
    400             REQUEST_PARAMETER_MISSING   Request Validation failed.    One or more invalid parameters
                                                                              we passed. See the innerErrors collection 
                                                                              for a list of invalid parameters. This is 
                                                                              returned if latitude / longitude is not 
                                                                              provided 
    
    
##Get Notify Current Location [/currentLocation] 

###Get Notify Current Location [POST]

+ Request (application/json)

    + Header

            Authorization: Bearer 7z9ZeGyweG98YMAyB0iSm2EiB6bD
            
    + Body
    
            {
                "latitude" : 40.1234,
                "longitude" : -70.1234,
            }

+ Response 200 ()


##Group Provide Current Location of a driver

###Description

The” Get Current Location of a driver” API allows the driver to post their current location when he is off or on a job. 
The Client App can call this API based on the business rules predefined for a product.

###Sample Request URL

/drivers/12345/currentLocation

###Request Schema

    Schema Property         Description                 Is Required         Type        Business Rules 
    ---------------         -----------                 -----------         ----        --------------
    latitude              Represents the latitude           YES             Double
                          of driver’s geographic 
                          location at that moment
                          
    longitude             Represents the longitude of       YES             Double
                          driver’s geographic location
                          at that moment


###Sample Request Body

POST http://agero-test.apigee.net/v1/id/trackingLocations HTTP/1.1

Host: agero-test.apigee.net

Content-Type: application/json

Authorization: Bearer 7z9ZeGyweG98YMAyB0iSm2EiB6bD

{

"latitude" : 40.1234,

"longitude" : -70.1234,

}

###Response Schema

N/A

###Sample Response

Http 200 OK

###Errors 

    HTTP Code       Error Code                  Message                         Reason 
    ---------       ----------                  --------                        -------                     
                                                
    401             INVALID_TOKEN               oauth.v2.InvalidAccessToken:    A valid OAuth token 
                                                Invalid access token            was not provided.
                                                                     
    500             UNKNOWN                     Unknown Error                   An unknown error occurred at the server
    
    400             REQUEST_PARAMETER_MISSING   Request Validation failed.      One or more invalid parameters
                                                                                we passed. See the innerErrors collection 
                                                                                for a list of invalid parameters. This is 
                                                                                returned if latitude / longitude is not 
                                                                                provided 
    
    
##Provide Current Location of a driver [/drivers/{driverId}/currentLocation] 

###Provide Current Location of a driver [POST]

+ Request (application/json)

    + Header

            Authorization: Bearer 7z9ZeGyweG98YMAyB0iSm2EiB6bD
            
    + Body
    
            {
                "latitude" : 40.1234,
                "longitude" : -70.1234,
            }

+ Response 200 ()

##Group OAuth2.0 Security API

The OAuth authorization code ('auth code' for short) grant type is defined in the OAuth 2.0 specification. 
The benefit of auth code grant type is that current Agero’s customer base can authorize third-party client apps to
consume Agero’s APIs on their behalf. This enables end users not to divulge AgeroSupport passwords to any entity 
except Agero. Agero as an API provider provides a Login app that authenticates end users and that supports the
redirects associated with the auth code grant type. "Three-legged OAuth" is so named because the pattern involves 
three distinct interactions among cooperating entities. The three transactions are: 

1. Authenticate the app end user, authorize client app, and recieve an authorization code 
2. Exchange authorization code for access token 
3. Use access token to securely invoke protected resource (API) 

There are 5 entities who participate in this oAuth 'dance'.

    Name                Description                         Activities                              Implemented by
    -----               -----------                         ----------                              --------------
    
    App end user        The human user of the               Provides username/password to            N/A
    (Service Provider)  client app                          authenticate, authorizes client 
                                                            app to act on her behalf
                                                        
    Client app          The app that accesses protected     Redirects app end user to               App developer i.e. third party  
                        resource on behalf of the app       authorization server, exchanges         partners  /vendors
                        end user                            auth code for access token, makes   
                                                            request to protected resource (API)
                                                            using access token
                                                            
    Login/Consent app   A web-based authentication form,    Validates app end user username/        Agero
                        which provides an interface where   password, optionally displays consent
                        app end users authenticate with     information    
                        an API provider 
                        
    Authorization       URI that a client app calls to      Redirects app end user to Login app,    Agero
    endpoint            authenticate                        validates client app's consumer key
    
    Token endpoint      URI that a client app calls to      Verifies that an authorization code is  Agero
                        exchange auth code for an access    valid for a client app. Returns access 
                        token                               tokens to client apps that present valid
                                                            auth codes. 
                                                            
    Protected resource  A service that can be accessed via   API provider-specific data or services   Agero 
                        an API and which is protected by
                        a policy that validates access 
                        tokens.
    

#Authorize 3rd Party App

###Description

URI that a client app calls to for authorization . Redirects app end user to Login app, validates client app's consumer key

###Sample Request URL

/oauth/authorize?client_id=gqg0KozKvJdVRrjSiFsAMwMv0P02gOuq&response_type=code&scope=READ&state=foobar"

###Request Parameters

    Schema Property         Description                 Is Required         Type        Business Rules 
    ---------------         -----------                 -----------         ----        --------------
    
    Client_id               Represents the consumer      YES                String
                            key of the app

    Response_type           Represents the response      YES                Enum        Static Value: code
                            type
                            
    Scope                   Represents the privelages    YES                Enum        PossibleValues: 
                            being requested                                             READ 
                                                                                        WRITE    
                                                                                        
    State                   This parameter is designed   YES                String  
                            to prevent cross-site 
                            request forgery attacks.
                            The server sends this
                            string back in the
                            
                            
###Sample Request

GET https://api-test.enterprise.agero.com/v1/id/oauth/authorize?client_id=gqg0KozKvJdVRrjSiFsAMwMv0P02gOuq&response_type=code&scope=READ&state=foobar

HTTP/1.1

Host: api-test.enterprise.agero.com

Accept: application/json

###Sample Response

HTTP/1.1 302 Found 

Location:login.Agero.com?client_id=gqg0KozKvJdVRrjSiFsAMwMv0P02gOuq&scope=READ&state=foobar

###Errors 

    HTTP Code       Error Code                  Message                       Reason 
    ---------       ----------                  --------                      -------                     
                                                
    401             INVALID_TOKEN               oauth.v2.InvalidAccessToken:  A valid OAuth token 
                                                Invalid access token          was not provided.
                                                                     
    500             UNKNOWN                     Unknown Error                 An unknown error occurred at the server
    
    400             REQUEST_PARAMETER_MISSING   Request Validation failed.    One or more invalid parameters
                                                                              we passed. See the innerErrors collection 
                                                                              for a list of invalid parameters. This is 
                                                                              returned if latitude / longitude is not 
                                                                              provided 
    
    
##Authorize 3rd Party App [/oauth/authorize?client_id={consumer_key}&response_type=code&scope=READ&state={state_string}] 

###Authorize 3rd Party App [GET]

+ Request ()

    + Header

            Authorization: Bearer 7z9ZeGyweG98YMAyB0iSm2EiB6bD
            
+ Response 200 (application/json)

    + Body
    
              Location:login.Agero.com?client_id=gqg0KozKvJdVRrjSiFsAMwMv0P02gOuq&scope=READ&state=foobar

## Group Get Access Token

###Description

URI that a client app calls to exchange auth code for an access token.Verifies that an authorization code is valid for a client app. 
Returns access tokens to client apps that present valid auth codes.

###Sample Request URL

/oauth/accesstoken?grant_type=authorization_code&code=neIu0d8e


###Request Parameters

    Schema Property         Description                     Is Required         Type        Business Rules 
    ---------------         -----------                     -----------         ----        --------------
    
    grant_type              Represents the grant type           YES             Enum Only   possible value: 
                            being requested                                                 authorization_code
                            
    Code                    Represents the auth code            YES             Enum
    

###Request Headers

    Schema Property         Description                         Is Required         Type        Business Rules 
    ---------------         -----------                         -----------         ----        --------------
    
    Authorization           Authorization header containing a     YES               String
                            base64 encoded string of 
                            ConsumerKey:ConsumerSecret

###Sample Request

GET https://api-test.enterprise.agero.com/oauth/accesstoken?grant_type=authorization_code
&code=neIu0d8

HTTP/1.1

Authorization: Basic

WExvdEwzUFJ4TmtVR1hoR0FGRFBPcjZmcXR2QWh1WmU6aU5VeUVhT09oOTZLUjNZTA==

Host: api-test.enterprise.agero.com

Accept: application/json

     
###Response Schema

    Schema Property         Description                         Is Required         Type        Business Rules 
    ---------------         -----------                         -----------         ----        --------------
    
    userClaim              The User Claim containing             YES                UserClaim
                           role information.
    
    Token                  Valid OAuth 2.0 SWT token             YES                Token
                           information.
                           
###Sample Response

    HTTP/1.1 200 OK
    Content-Type: application/json
    Content-Length: 273 

    { 
    userClaim: 
        { 
            vendorId: "16544", 
            profileId: "250124", 
            username: "clmarodp1", 
            role: "Dispatching" 
        }, 
    token: 
        {
            access_token: "abrfa6znEBkcdL3Lh4lIZpauH8F2", 
            expires_in: "0", 
            refresh_token: "xx5i5goxuC8Lpk1VRGoHxbaTYyyyBFGp", 
            refresh_count: "0" 
        } 
    }

###Errors 

    HTTP Code       Error Code                  Message                       Reason 
    ---------       ----------                  --------                      -------                     
                                                
    400            REQUEST_PARAMETER_MISSING   Request Validation failed.     One or more invalid parameters we passed. 
                                                                              See the innerErrors collection for a list 
                                                                              of invalid parameters. This is returned if
                                                                              latitude / longitude is not provided

    400             INVALID REQUEST            Invalid Authorization Code     Provided auth code is not valid / already used   
    
    400             INVALID REQUEST            Unsupported grant              Provided grant_type is invalid
                                               type : xxxxxx

##Get Access Token [/oauth/accesstoken?grant_type=authorization_code&code={authcode}] 

###Get Access Token [GET]

+ Request ()

   + Header 
   
            Accept: application/json



+ Response 200 (application/json)

    + Body
    
            { 
                userClaim: 
                    { 
                        vendorId: "16544", 
                        profileId: "250124", 
                        username: "clmarodp1", 
                        role: "Dispatching" 
                    }, 
                token: 
                    {
                        access_token: "abrfa6znEBkcdL3Lh4lIZpauH8F2", 
                        expires_in: "0", 
                        refresh_token: "xx5i5goxuC8Lpk1VRGoHxbaTYyyyBFGp", 
                        refresh_count: "0" 
                    } 
            }

##Group Subscribe To Server Notifications 

###Description

The “Server to Server Notifications” API allows app users to register their applications so that app users 
can receive notifications from Roadside Connect on their server.

###Sample Request URL

/serverNotifications/subscribe


###Request JSON

    Schema Property         Description                         Is Required     Type            Business Rules 
    ---------------         -----------                         -----------     ----            --------------
    
    callBackUrl             Url that will be called                 YES         String         API server will call this 
                            back to notify                                                      URL to notify the events in 
                                                                                                Roadside connect
                                                                                                 
    notificationToken       The notification Token for security     YES/NO      String          Security token which reviving 
                                                                                                server has to validate     
                                                                                                 
    notificationEvents      List of events to be notified           NO          List of         if not specified subscribes to all 
                                                                                Notification    event s as applicable Refer to “Get 
                                                                                Types consumer  Notification Type" for detailed values 
                                                                                is interested   of notification events.
                                                                                in 

###Sample Request

    {
        "callBackUrl" : “http://yourServename/.../notify”
        "notificationToken" : “TmxhbG9YYTNwYTQ6TFk1VWhPY2”
        "notificationEvents" : [1,2,3,…]
    }

     
###Sample Response

    HTTP 200

###Errors 

    HTTP Code       Error Code                  Message                         Reason 
    ---------       ----------                  --------                        -------                     
                                                
    400             INVALID_REQUEST             Missing callback URL.
    
    401             INVALID_TOKEN               oauth.v2.InvalidAccessToken:    A valid OAuth token was 
                                                Invalid access token            not provided
                                                
    500             UNKNOWN                     Unknown Error                   An unknown error occurred 
                                                                                at the server                                            

##Subscribe To Server Notifications [/serverNotifications/subscribe] 

###Subscribe To Server Notifications [POST]

+ Request (application/json)

   + Header 
   
            Authorization: Bearer WExvdEwzUFJ4TmtVR1hoR0FGRF

    + Body
    
            {
                " callBackUrl" : “http://yourServename/.../notify”
                " notificationToken" : “TmxhbG9YYTNwYTQ6TFk1VWhPY2”
                " notificationEvents" : [1,2,3,…]
            }

+ Response 200 ()

##Group Receive Server Notification 

###Description

This API as specified here needs to be implemented by notification receiving third parties on their end.
API will allow drivers and dispatchers to receive notification on their registered servers. Please refer to 
section 12.10 for detail list of notification codes.

###Sample Request URL

https://yourServerName/…/ serverNotifications/notify


###Request Headers

    Schema Property         Description                         Is Required     Type            Business Rules 
    ---------------         -----------                         -----------     ----            --------------
    
     Authorization          Notification Token previously         YES            String         Receiving party has to validate
                            supplied via serverNotification                                     this token for security purpose
                            /subscribe API
                                                                                                 



###Request JSON

    Schema Property         Description                         Is Required     Type            Business Rules 
    ---------------         -----------                         -----------     ----            --------------
    
    notificationEventId    Uniquely identifies this                 YES         number          This can be used to identify duplicates
                           particular event notification                                        received due to failure-retry process
                           across all notifications sent,
                                                                                                 
    notificationCode       Notification Code                        YES         Integer         Possible Values:
                                                                                                1,2,3,…
   
                                                                                                 
    dispatchRequestNumber  The dispatchRequestNumber                YES         Integer
    
    title                  Title of the Notification                NO          String
    
    message                The message body of the notification     NO          String

###Sample Request

    {
        "notificationEventId" : “123456789”
        “notificationType" : “1”
        "dispatchRequestNumber" : 123456789
        "title" : “New Offer”
        "message" : “You have a new job.”
    }
     
###Sample Response

    HTTP 200

###Errors 

    HTTP Code       Error Code                  Message                         Reason 
    ---------       ----------                  --------                        -------                     
                                                
    400             REQUEST_PARAMETER_MISSING   INVALID_REQUEST                Missing callback URL.
    
    401             INVALID_TOKEN               oauth.v2.InvalidAccessToken:   A valid OAuth token was 
                                                Invalid access token           not provided
                                                
    500             UNKNOWN                     Unknown Error                  An unknown error occurred 
                                                                               at the server                                            

##Receive Server Notification [/serverNotifications/notify] 

###Receive Server Notification [POST]

+ Request (application/json)

   + Header 
   
            Authorization: Bearer WExvdEwzUFJ4TmtVR1hoR0FGRF

    + Body
    
            {
                "notificationEventId" : “123456789”
                “notificationType" : “1”
                "dispatchRequestNumber" : 123456789
                "title" : “New Offer”
                "message" : “You have a new job.”
            }

+ Response 200 ()

##Group Acknowledge Notification 

###Description

This API can be called asynchronously to acknowledge the notification was received.

###Sample Request URL

/serverNotifications/329345447/acknowledge


###Request URI Parameters

    Schema Property         Description                         Is Required     Type            Business Rules 
    ---------------         -----------                         -----------     ----            --------------
    
     notificationEventId    Identifier of the event               YES           number 
                            notification received


###Request JSON

Empty, not required

###Response JSON

Empty, not required

###Sample Response Body

HTTP/1.1 200 OK

###Errors 

    HTTP Code      HTTP Reason        Error Code            Message                     Reason 
                   Phrase 
    ---------      -----------        ----------            --------                    -------                     
                                                
    401             Unauthorized      INVALID_TOKEN         oauth.v2.InvalidAccessToken: A valid OAuth token was 
                                                            Invalid access token         not provided
                                                
    403             Forbidden         FORBIDDEN_RESOURCE    The resource is not allowed Drivers view or refuse job 
                                                            by the current user.        offers.
    
    500             Server Error      UNKNOWN               Unknown Error               An unknown error occurred 
                                                                                        at the server                                            

##Acknowledge Notification [/serverNotifications/{ notificationEventId}/acknowledge] 

###Acknowledge Notification [PUT]

+ Request ()

   + Header 
   
            Authorization: Bearer WExvdEwzUFJ4TmtVR1hoR0FGRF

+ Response 200 ()

##Group Authenticate User

###Description

The “Impersonate User” API allows an Agero Admin/Network Manager to impersonate a service provider so that information specific to impersonated Service Provider can be retrieved.

###Sample Request URL

/users?action=impersonate&vendorId=57515


###Request Headers

    Schema Property         Description                         Is Required     Type            Business Rules 
    ---------------         -----------                         -----------     ----            --------------
    
     Authorization          Authorization header containing a    YES            String 
                            base64 encoded string of 
                            ConsumerKey:ConsumerSecret
                            
###Request Schema

    Schema Property         Description                         Is Required     Type            Business Rules 
    ---------------         -----------                         -----------     ----            --------------
    
     vendorId               Represents the unique identifier     YES            String 
                            of the vendor to be impersonated
                                                  


###Sample Request

POST https://api-test.enterprise.agero.com/v1/id/users?action=impersonate HTTP/1.1

Host: api-test.enterprise.agero.com

Authorization: Bearer 7z9ZeGyweG98YMAyB0iSm2EiB6bD

{

"userName":"clmarodp1",

"userName":"1234567"

}

###Response schema

    Schema Property         Description                         Is Required     Type            Business Rules 
    ---------------         -----------                         -----------     ----            --------------
    
     userClaim              The User Claim containing role        YES           UserClaim 
                            information. 
                            
     token                  Valid OAuth 2.0 SWT token             YES           Token
                            information.


###Errors 

    HTTP Code      HTTP Reason        Error Code            Message                     Reason 
                   Phrase 
    ---------      -----------        ----------            --------                    -------                     
                                                
    400            INVALID REQUEST    INVALID_VENDORID      VendorId is missing         No vendorId is provided
   
    401            UNAUTHORIZED       INVALID_TOKEN         oauth.v2.InvalidAccessToken: A valid OAuth token was 
                                                            Invalid access token         not provided
                                                
    403            ACTION FORBIDDEN   ACTION_FORBIDDEN     Current user is not allowed   Current user is not allowed 
                                                           to impersonate                to impersonate
                                                           
    404            RESOURCE NOT FOUND NO_VENDOR_FOUND      No Vendor found               Vendor does not exist in the 
                                                                                         system for the given vendorId. 
    
    500            SERVER ERROR       UNKNOWN               Unknown Error                 An unknown error occurred 
                                                                                         at the server                                            

##Authenticate User [/authenticate] 

###Authenticate User [POST]

+ Request (application/json)

   + Header 
   
            Authorization: Bearer WExvdEwzUFJ4TmtVR1hoR0FGRF

    + Body
            
            {
                "userName":"clmarodp1",
                "userName":"1234567"
            }

+ Response 200 (application/JSON)

    + Body
            
            {
                "userClaim":
                {
                    “id” : “56789”,
                    "vendorId":“57515”,
                    "username":"efudd",
                    "role":"Driver"
                },
                "token" :
                {
                    "expires_in":1799,
                    "refresh_token":"vyUeuNQrrKvgdQeGh5HpaxtUuV88wQyb",
                    "access_token":"7z9ZeGyweG98YMAyB0iSm2EiB6bD",
                    "refresh_count":0
                }
            }

##Group Data Models

###Dispatch

    Schema Property         Description                              Is Required         Type               Business Rules 
    ---------------         -----------                              -----------         ----               --------------
    
    dispatchRequestNumber   The dispatch Request ID from OneRoad     YES                 String
                            
    referenceNumber         The reference number from OneRoad        YES                 String 
    
    poNumber                The PO Number from OneRoad               YES/NO              String             Jobs in the “NEW” status 
                                                                                                            will not have PO Numbers.
                                                                                                        
    currentStatus           The current status of the job.           YES                 DispatchStatus  
                                                                                                    
    etaStatusCode           Represents the ETA Status Code           NO                  Enum               Refer to section 12.9 for   
                                                                                                            possible ETA Status Codes
   
    eta                     Represents the original estimated        NO                  DateTime           Only available if the job
                            time of arrival in UTC time                                                     is accepted 
                                                                                                        
    etaInMinutes            Represents the original ETA              NO                  Integer            Only available if the job
                            provided                                                                        is accepted
                                                                                                        
    revisedEta              Represents the revised estimated         NO                  DateTime           Only available if the SP  
                            time of arrival in UTC time                                                     provides callsback and 
                                                                                                            provides a new ETA    
                            
    revisedEtaInMinutes     Represents the revised ETA in
                            mins provided      
                            
    etaRevisionCount        Represents the # of times ETA           NO                  Integer             Only applicable if the ETA  
                            has been revised                                                                is revised at least once
    
    serviceType             Type of service                         YES                 String              Possible Values:
                                                                                                            Tow to Storage
                                                                                                            Door Unlock
                                                                                                            Fuel Delivery
                                                                                                            Jump Start
                                                                                                            Flat Tire
                                                                                                            Winch
                                                                                                            Reunite
                                                                                                            Tow

    disablementLocation     The disablement location                 YES                 ServiceLocation
   
    towDestination          he tow destination if                    YES/NO              ServiceLocation    Required if service type
                           the service is a tow.                                                            is TOW
   
    assignedDriver          The name of the driver,if any,           YES/NO              Driver             Required if driver is assigned 
   
    coverage                Indicates the coverage                   YES                 String             Example:
                           information                                                                      Customer covered on this
                                                                                                            service to the Designated 
                                                                                                            Tow Destination.
                                                                                                            Your service is only eligible
                                                                                                            to be paid by CCAS if the customer
                                                                                                            vehicle arrives at the Designated
                                                                                                            Tow Destination specified on
                                                                                                            vehicle arrives at the Designated
                                                                                                            Tow Destination specified on
                                                                                                            this dispatch summary or we provide 
                                                                                                            approval for a change to the tow
                                                                                                            destination before service is rendered.
                                                                                                            <BR><B>Included: </B><BR>Storage
                                                                                                            Cost<BR><!--EXCLUDEDTEXT--> 
                                                                                                        
     urgency                 The urgency of the request.             YES                 String             Possible Values:
                                                                                                            STANDARD
                                                                                                            PRIORITY
  
     problem                 The type of problem.                    YES                 String             Example(s):
                                                                                                            Flat Tire
                                                                                                            Inoperable Problem
                                                                                                            Stuck
                                                                                                            Would not Start
                                                                                                        
     equipment               The equipment required                  YES                 Equipment
                            to perform the service.     
                            
     receivedTime                                                    YES                 UTCTime
    
     vehicle                 vehicleData                                                 vehicle
    
     comments                An Array of dispatch comments           NO                  DispatchComment[]
    
     signatures              An array of signatures                  NO                  Signature[]
                            captured for the dispatch


###vehicle

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------

    Vin                     Vehicle Identification Number            YES/NO              String
    
    Year                    Vehicle Model Year                       YES                 String
    
    make                    Vehicle Make                             YES                 String 
    
    model                   vehicle Model                            YES/NO              String    
    
    color                   vehicle color                            YES/NO              String 
    
    plate                   Vehicle State and plate                  NO                  String 
    
    state                   State in which the vehicle               NO                  String    
                            is registered in
                            
    vehicleType             Vehicle Type/class                       YES                 String
    
    drivetrainType          Vehicle drivetrain type                  YES                 String
    
    fuelType                Vehicle fuel type                        YES                 String
    
    Mileage                 Current OD Reading                       YES/NO              String

    
    

###DispatchStatus

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    code                    The status code                          YES                 String  
    
    reason                  Reason for the status.                   YES/NO              String         Some statuses require a 
                            Eg. Rejection reason.                                                       reason
                            
    eta                     Service Provider ETA                     YES/NO              Integer        Required to accept a 
                                                                                                        dispatch request.
    
    extJobId                External Job Id                          NO                  String     
    
    source                  Source System                            YES/NO              String         Required if 3rd party
    
    latitude                Current GPS Latitude                     NO                  Double
    
    longitude               Current GPS Longitude                    NO                  Double
    
    timestamp               Date and Time when the status            YES                 UTC Time
                            was reported

###Location

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    address1                First Address Line                       YES                 String
    
    address2                Second Address Line                      NO                  String
    
    city                                                             NO                  String
    
    state                                                            NO                  String
    
    postalCode                                                       NO                  String
    
    CrossStreet                                                      NO                  String    
    
    landmark                                                         NO                  String
    
    locationType                                                     NO                  String
    
    poi1                    First Point of Interest                  NO                  String
    
    poi2                    Second Point of Interest                 NO                  String
    
    lat                     latitude                                 YES/NO              Double         lat/Long is required for 
                                                                                                        navigation and mapping
                                                                                                        operations.
    
    long                    Longitude                                Yes/NO               Double
    
    
    
###ServiceLocation extends Location

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    contactInfo                                                      YES                 Contact
    
    dropInstructions                                                 NO                  String  
    
    GarageClearanceHeight                                            NO                  String
    
    GarageLevel                                                      NO                  String
    
    IsDriverWithVehicle                                              YES                 Boolean
    
    NightDropOff                                                     NO                  Boolean
    
    Parked                                                           NO                  Boolean
  
  
###Contact

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    name                                                             YES                 String
    
    phone                                                            YES                 String
    
    callBackNumber                                                   YES                 String
    
###Driver

    Schema Property         Description                              Is Required         Type             Business Rules 
    ---------------         -----------                              -----------         ----             --------------
    
    driverId                Equivalent to the profile ID             YES                 String
    
    name                    Driver’s name                            YES                 String
    
    status                  represents the status code of the        YES                 Enumeration      Please refer to Enumerations API    
                            current dispatch driver is working on
                            
    equipment               Driver’s equipment type                  NO                  DriverEquipment
    
    currentlocation         Driver’s current location                YES                 Location
    
    gpsEnabled              Flag which indicates if the driver is    YES                 Boolean
                            GPS enabled or not
                            
    profilePictureUrl       Represents the resource URI where a      NO                  String           URL is available    
                            profile picture of the driver can be                                          if and only if a
                            downloaded from                                                               driver uploaded
                                                                                                          a profile picture
                                                                                                          READ ONLY
                                                                                                          DOES NOT
                                                                                                          INCLUDE BASE
                                                                                                          URI
                                                                                                            
    profileLastUpdatedAt    Represents the date and time at          YES                 DateTime         READ ONLY
                            which the profile picture was
                            last updated at
                            
    onDuty                  Represents whether the                   YES                 Boolean         This is        
                            dispatcher is available or not                                               determined by
                                                                                                         whether the
                                                                                                         dispatcher is
                                                                                                         loggedin in to
                                                                                                         RoadsideConnect
                                                                                                         platform
    
###UserInfo

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    name                    Full Name                                YES                 String
    
    cellPhone               Personal Cell Phone Number               YES                 String
    
    email                   Personal Email Address                   YES                 String
    
    officeEmail             Office email address                     NO                  String      

    officePhone             Office Phone Number                      NO                  String
    
    profilePictureURL       Represents resource URI  where           NO                  String         READ ONLY
                            profile picture can be downloaded                                           DOES NOT
                            from                                                                        INCLUDE BASE
                                                                                                        URI
###Sample JSON

    {
        "name" : "Jon Doe",
        "cellPhone" : "555-555-5555",
        "email" : "jdoe@gmail.com",
        "officeEmail" : "jdoe@abctowing.com",
        "officePhone" : "555-555-1111"
    }
    
###DriverEquipment

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    equipmentId             Equiment Id                              YES                 String
    
    addressId               Address Id of the Facility where the     YES                 Integer
                            equipment is registered with Agero
    
    type                    Equipment Type                           Readonly            String
    
    vehicleNickname         Name/Number for the assigned             NO                  String
                            equipment

    equipmentPictureUrl     Url for the picture of the equipment     NO                  URL
    
    lastUpdatedAt           Represetns the date and time at which    YES                 DateTime       READ ONLY
                            the equipment picture was last                                           
                            updated at                                         
    
###Sample JSON

    {
        "equipmentId" : "LDWL",
        "addressId" : 1,
        "type" : "Light Duty Wheel Lift",
        "vehicleNickname" : "blue truck",
        "equipmentPictureUrl" : "/vendors/23424/drivers/24234/driverEquipment/picture",
        "lastUpdatedAt" : "2013-01-31 08:30 AM"
    }

###Preferences

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    jobFilter               A bitmap indicating what types           YES                 Integer        1-All Jobs
                            of jobs to display.  Eg. All, Only                                          2-Unassigned
                            My Jobs, Unassigned                                                         4-My Jobs Only
    
    jobViewOpt              How to view the job list                 NO                  Integer        Not Applicable

    gpsTracking             Enable GPS tracking?                     YES                 Boolean        Default = true
    
    etaAlerts               Enable ETA alerts?                       YES                 Boolean        Default = true

    inactivityAlert         Enable Inactivity Alerts?                YES                 Boolean        Default = true
    
    autoAssignAllJobs       Enable auto assignment of all            YES                 Boolean        Default = false
                            jobs to the authenticated user                                           

    subscribeToNewsletter   Boolean flag that indicates if the       YES                 Boolean        Default = true
                            user wants to subscribe to
                            Newsletter email

    consentToTextAndPhone   Boolean flag that indicates if the       YES                 Boolean        Default = true
    StatusUpdates           user wants to be located for text
                            and phone status updates

    passwordManagementPriv  Boolean flag that indicates if a         NO                  Boolean        Default = false
    elage                   user can see/reset password of                                              READ ONLY
                            other users                                                                 except for an
                                                                                                        Owner. Only
                                                                                                        an owner can
                                                                                                        change the
                                                                                                        value for a
                                                                                                        given
                                                                                                        Manager
###Sample JSON

    {
        "jobFilter" : 1,
        "jobViewOpt" : “Service, Address, City”,
        "gpsTracking" : "true",
        "etaAlerts" : "true",
        "inactivityAlert" : "true",
        "autoAssignAllJobs" : "false",
        "subscribeToNewsletterEmail" : "true",
        "consentToTextAndPhoneStatusUpdates" : "true",
        "passwordManagementPrivelage" : "false",
    }
    
###Equipment

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    equipmentId             Equiment Id                              YES                 String
    
    type                    Equipment Type Name                      Readonly            String
    
###Sample JSON

    {
        "equipmentId" : "LDWL",
        "type" : "Light Duty Wheel Lift"
    }
    
###VendorEquipment

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    equipmentId             Equiment Id                              YES                 String

    vendorId                Vendor ID of the service provider        YES                 String
                            owning the equipment
                            
    addressId               Address Id of the Facility where the     YES                 Integer
                            equipment is registered with Agero
                            
    type                    Equipment Type                           Readonly            String
    
    quantity                Represents the count of equipment        YES                 Integer
                            available at the facility
                            
    shiftType               Represents the type of shift the         YES                 Enum
                            equipment is available for
                            
    startDate               Represents the start date the            YES                 Date
                            equipment is available from
                            
    rates                   Represents the rates applicable          YES                 Rate[]
                            for the equipment       
###Sample JSON

    {
        "equipmentId" : “LDWL”,
        "addressId" : 1,
        "type" : "Light Duty Wheel Lift",
        "quantity" : {
                “code”:”ALL”,
                “desc”:”24 hour”
        },
        "startDate" : "11/6/2007",
        "rates"     : [
                    {
        “shiftType” : {
        “code” : ”ALL”,
        “desc” : ”24 hour”
        },  
        “freeMilesToSite” : 5.0,
        “perMileAmountToSite” : 2.0,
        “hookupAmount” : 22.5,
        “freeMilesLoaded” : 5,
        “perMileAmountLoaded” : 4.5,
        “perHourAmount” : null,
        “goaAmount” : 15.0
        },
                    {
        “shiftType” : {
        “code” : ”HOL”,
        “desc” : ”Holiday”
        },  
        "freeMilesToSite" : 5.0,
        “perMileAmountToSite” : 2.0,
        “hookupAmount” : 22.5,
        “freeMilesLoaded” : 5,
        “perMileAmountLoaded” : 4.5,
        “perHourAmount” : null,
        “goaAmount” : 15.0
        }
        ]
    }

###Signature

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    signatureId             Represents the uinique identifier of     YES                 String         This is to be
                            the signature entry                                                         used if a
                                                                                                        single
                                                                                                        signature
                                                                                                        entry is
                                                                                                        needed
                                                                                                    
    signeeType              Represents the role of the person        YES                 SigneeType Enum
                            who signed
    
    signeeName              Represents the name of the person        YES                 String
                            who signed
    
    signatureReason         Represents the reason why                YES                 SignatureReason
                            signature was captured                                       Type Enum
    
    locationType            Represents the type of the location      YES                 LocationType
                            at which signature was captured                              Enum
    
    latitude                Represents the latitude of the           YES                 Double
                            location at which signature was
                            captured
    
    longitude               Represents the longitude of the          YES                 Double
                            location at which signature was
                            captured
    
    
    dispatchStatusCode      Represents the state of the dispatch     YES                 String
                            at which signature was captured

    capturedDateTime        Reprsents the date time at which         YES                 DateTime
                            signature was captured
    
    signatureUrl            Represents the captured signature        NO                  URL            This is
                            in picture format                                                           available
                                                                                                        signature was
                                                                                                        captured
                                                                                                        instead of
                                                                                                        geoconfirmation
                                                                                                        
###Sample JSON

    {
        "signatureId" : "244254",
        "signeeName" : "Smith",
        "signeeType" : "1",
        "signatureReason" : "1",
        "locationType" : "1",
        "latitude" : 72.3434,
        "longitude" : -182.43543,
        "dispatchStatusCode" : "20",
        "capturedDateTime" : "12/21/2012 11:28 AM",
        "signatureUrl" : "/dispatches/354235235/signatures/234234/picture"        
    }
    
###EnumerationType

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    code                    Provides unique identifier of the        YES                 String
                            driver type
    
    description             Description  of the driver type          YES                 String
    
###DriverType extends EnumerationType

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    code                    Provides unique identifier of the        YES                 String
                            driver type
    
    description             Description  of the driver type          YES                 String

###Sample JSON

    {
        "code" : "1",
        "description" : "GPS enabled driver"
    }

###SigneeType extends EnumerationType

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    code                    Provides unique identifier of the        YES                 String
                            signee type
    
    description             Description  of the signee type          YES                 String

###Sample JSON

    {
        "code" : "1",
        "description" : "Vehicle Owner / Driver"
    }

###SignatureReasonType extends EnumerationType

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    code                    Provides unique identifier of the        YES                 String
                            signature Reason
    
    description             Description  of the signature Reason     YES                 String

###Sample JSON

    {
        "code" : "1",
        "description" : "Pre-existing Damages"
    }

###SignatureLocationType  extends EnumerationType

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    code                    Provides unique identifier of the        YES                 String
                            signature location
    
    description             Description  of the signature location   YES                 String

###Sample JSON

    {
        "code" : "1",
        "description" : "Tow Location"
    }

###ApiError

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    errorCode               Short code identifying the error         YES                 String
                            signature location
                            
    description             Error Description                        YES                 String
    
    innerErrors             An array of errors that caused this      NO                  ApiError
                            error

###Sample Error JSON

    {
        "errorCode":"REQUEST_PARAMETER_MISSING",
        "error":"Request Validation failed.",
        "innerErrors":
        [
            {
                "errorCode":"userInfo.Name",
                "error":"name cannot be empty or null.",
                "innerErrors":null
            },
            {
                "errorCode":"userInfo.CellPhone",
                "error":"cell phone cannot be empty or null.",
                "innerErrors":null
            },
            {
                "errorCode":"userInfo.Email",
                "error":"personal email cannot be empty or null.",
                "innerErrors":null
            }
            
        ]
    }


###Dispatcher

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    dispatcherId            Equivalent to the profile ID             YES                 String
    
    name                    Dispatcher’s name                        YES                 String
    
    officephone             Represents the phone number              YES                 String
                            where the Dispatcher can be
                            reached at
                            
    officeEmail             Represents the email address of          YES                 String
                            the Dispatcher
    
    profilePictureUrl       Represents the resource URI              NO                  String         URL is available if 
                            where a profile picture of the                                              and only if a
                            driver can be downloaded from                                               driver uploaded a
                                                                                                        profile picture.
                                                                                                        READ ONLY
                                                                                                        DOES NOT
                                                                                                        INCLUDE BASE
                                                                                                        URI
    
    profileLastUpdatedAt    Represents the date and time at          YES                 DateTime       READ ONLY
                            which the profile was last
                            updated at
    
    onDuty                  Represents whether the                   YES                 Boolean        This is
                            dispatcher is available or not                                              determined by
                                                                                                        whether the
                                                                                                        dispatcher is
                                                                                                        loggedin in to
                                                                                                        RoadsideConnect
                                                                                                        platform
###Sample JSON

    {
        "dispatcherId" : “35325235”,
        "name" : "Jon Doe",
        “officeEmail” : “jdoe@abctowing.com”,
        “officePhone” : “555-555-1111”,
        “profilePictureUrl” : “/vendors/53240/dispatchers/3949/picture”,
        "profileLastUpdatedAt" : "2013-01-31 08:30 AM",
        "onDuty":true
    }
                                                                                                        
                                                                                                        
###Facility

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    id                      Represents the unique identifier         YES                 String
                            of the facility
                            
    Name                    Represents the name of the               YES                 String
                            facility
                            
    address                                                          YES                 String                      
    
    city                                                             YES                 String
    
    state                                                            YES                 String
    
    zipcode                                                          YES                 String
    
    lat                     Latitude                                 YES                 Double         lat/Long is
                                                                                                        required for
                                                                                                        navigation and
                                                                                                        mapping
                                                                                                        operations.
    lon                     Longitude                                YES                 Double
    
    primaryEmailAddress     Represents the primary Email             NO                  String
                            Address of the facility
    
    alternateEmailAddress   Represents the secondary email           NO                  String
                            address of the facility
                            
    contactInfo             Represents ph/fax #s of the              YES                 FacilityPreferences
                            facility
                            
    preferences             Represents the preferences of            YES                 VendorEquipment[]
                            the Facility
                            
    insuranceInfo           Represents the insurance                 YES                 Territory[]
                            coverage information of the
                            facility
                            
    equipments              Represents the List of                   YES
                            Equipments available at a
                            facility
    
    territories             Represents the list of territories       YES
                            facility can handle jobs

###Sample JSON

    {
        "id" : "14234",
        "name" : "275 High Street",
        “address” : “275 High Street”,
        “city” : “Medford”,
        “state” : “MA”,
        "zip" : "02155",
        "lat": "42.0123",
        "lon": "80.1153",
        "primaryEmailAddress" : "mloaria@thetowtruckco.com",
        "alternateEmailAddress” : null
        "contactInfo"     : [
        {
            "phoneNumber" : "7813061232",
            "contactType" : {
                "code" : "FX",
                "description" : "Fax"
            },
            "hourType" : {
                "code" : "A",
                "description" : "24 Hour"
            }
        },
        {
            "phoneNumber" : "7813061232",
            "contactType" : "PH",
            "hourType" : {
                "code" : "A",
                "description" : "24 Hour"
            }
        }
        ],
        "preferences" : {
            "eDispatchJobConfirmation" : True,
            "ivrDispatchOptOut" : True
        },
        "insuranceInfo" : {
            "companyName" : "Travelers Inc",
            "policyNumber" : "I680394W1184",
            "insuranceType" : {
                "code" : "AL",
                "description" : "Automobile Liability"
            },
            "agentName" : null,
            "agentPhoneNumber” : "7813061632",
            "effectiveDate” : "06/11/2007",
            "expirationDate” : "06/11/2017",
            "certificateHolder” : true
        }, 
        "equipments"     : [
        {
            "equipmentId" : "LDWL",
            "addressId" : 1,
            "type" : "Light Duty Wheel Lift",
            "quantity" : 5,
            "rates" : [
             {
                "shiftType" : {
                    "code" : "ALL",
                    "description" : "24 hour"
                },
                "freeMilesToSite" : 5.0,
                "perMileAmountToSite" : 2.0,
                "hookupAmount" : 22.5,
                "freeMilesLoaded" : 5,
                "perMileAmountLoaded" : 4.5,
                "perHourAmount" : null,
                "goaAmount" : 15.0,
             },
             {
                "shiftType" : {
                    "code" : "HOL",
                    "description" : "Holiday"
                },
                "freeMilesToSite" : 5.0,
                "perMileAmountToSite" : 2.0,
                "hookupAmount" : 22.5,
                "freeMilesLoaded" : 5,
                "perMileAmountLoaded" : 4.5,
                "perHourAmount" : null,
                "goaAmount" : 15.0,
             },
             
             
            ]
        },
        ],
        
        "territories"     : [
        {
            "zipCode" : 75056
        },
        {
            "zipCode" : 75057
        },
        {
            "zipCode" : 75065
        },
        {
            "zipCode" : 75067
        }
        ]
        
    }

###GeographicalCoordinates

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    latitude                Represents latitude of the location      YES                 Double
    
    longitude               Represents longitude of the              YES                 Double
                            location

###FleetMapDriver extends Driver

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    Dispatches              Represents the list of dispatches        NO                  Dispatch[]     Only available if
                            assigned to driver and are not                                              Driver is actively
                            fulfilled yet. List also includes an                                        working on a
                            active job (if any)                                                         dispatch

    travelTimeToLocation    Represents the amount of time in         YES                 Integer
                            mins it would take a driver to
                            reach the loacation identified by
                            lat & long from  his current
                            location
                            
###Sample JSON

    {{
        "driverId" : "132454",
        "Status" : "ACTIVE",
        “name” : “Joe”,
        "equipment" : {
                        "equipmentId" : "LDWL",
                        "addressId" : 1,
                        "type" : "Light Duty Wheel Lift",
                        "vehicleNickname" : "blue truck"
                    },        
        "currentLocation" : {
                        "address" : "275 High Street",
                        "lat" : “42.0123”,
                        "lng" : “80.1153”
                    }        
    }
    "travelTimeToLocation" : 30
    "dispatches" : [
    {
        "dispatchRequestNumber" : "329345447",
        "referenceNumber" : "123456789",
        "poNumber" : "234578098",
        "serviceType" : "TOW",
        "problem" : "Inoperable Problem",
        "problem" : "Inoperable Problem
        Customer covered on this service to the Designated Tow Destination. Your service is only
        eligible to be paid by CCAS if the customer vehicle arrives at the Designated Tow Destination specified on this
        dispatch summary or we provide approval for a change to the tow destination before service is
        rendered.<BR><B>Included: </B><BR>Storage Cost<BR><!--EXCLUDEDTEXT--> 
        ",
        "urgency" : "NORMAL",
        "receivedTime" : "12/21/2012 11:28 AM",
        "currentStatus" : {
                        "code" : "10",
                        "statusReason" : "",
                        "eta" : 45",
                        "source" : "Mobile"
                    },        
        "equipment" : {
                        "equipmentId" : "LDWL",
                        "type" : “Light Duty Wheel Lift”,
                    }, 
        "vehicle" : {
                        "color" : "Blue",
                        "make" : "Hyundai",
                        "model" : Santa Fe",
                        "year" : "2012"
                        "fuelType" : “Gasoline”,
                        "driveTrainType" : "AWD",
                        "plate" : "1234 AZ",
                        "state" : MA",
                        "vin" : “1F12345FD46789”,
                        "vehicleType" : “passenger”,
                        "mileage" : “40000"
                    },
        "disablementLocation" : {
                        “address” : “275 High Street”,
                        “city” : “Medford”,
                        “state” : “MA”,
                        “zip” : “02155”,
                        “lat” : “42.0123”,
                        “lng” : “80.1153”
                    },
        "towDestination" : {
                        “address” : “1100 Main Street”,
                        “city” : “Medford”,
                        “state” : “MA”,
                        “zip” : “02155”,
                        “lat” : “42.0120”,
                        “lng” : “80.8908”
                    },
        "assignedDriver" : {
                        “driverId” : “132454”,
                        “Status” : “20”,
                        “name” : “Joe Smith”,
                        “equipment” : {
                            “equipmentId” : “LDWL”,
                            “addressId” : 1,
                            “type” : “Light Duty Wheel Lift”,
                            "vehicleNickname" : “Truck #6”
                        }
                        “currentLocation” : {
                            “address” : “275 High Street”,
                            “lat” : “42.0123”,
                            "lng" : “80.1153”
                        }
                        
                    },
        "comments" : [
        {
                        “commentCode” : “DLC”,
                        “displayText” : “Disablement Location”,
                        “commentText” : “be careful with dog in the back yard.”
        }
        ]
        "signatures" : [
        {
                        "signatureId" : "244254",
                        "signeeName” : "Smith",
                        "signeeType" : "1",
                        "signatureReason" : "Pre-existing Damages",
                        "locationType" : "1",
                        "latitude" : 72.3434 ,
                        "longitude" : -182.43543,
                        "dispatchStatusCode" : "20",
                        "capturedDateTime" : "12/21/2012 11:28 AM",
                        "signatureUrl" : "/dispatches/354235235/signatures/234234/picture"
        },
        {
                        "signatureId" : "24424",
                        "signeeName” : "Joe",
                        "signeeType" : "2",
                        "signatureReason" : "1",
                        "locationType" : "2",
                        "latitude" : 72.3434 ,
                        "longitude" : -182.43543,
                        "dispatchStatusCode" : "20",
                        "capturedDateTime" : "12/21/2012 11:45 AM",
                        "signatureUrl" : "/dispatches/354235235/signatures/24424/picture"
        }
        ]
    }
    ]}

###Dispatch Status

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    code                    The status code                          YES                 String
        
    description             The description of the status code       Readonly            String
    
    reason                  Reason for the status.  Eg. Rejection    YES/NO              String         Some statuses
                            reason                                                                      require a reason
    
    eta                     Service Provider ETA in minutes          YES/NO              Integer        Required to accept
                                                                                                        a dispatch request.
    
    etaTime                 The ETA as a DateTime                    YES                 UTC Time
    
    etaRevised              The revised ETA if different from the    NO                  Integer
                             original
    
    extJobId                External Job Id                          NO                  String              
    
    source                  Source System                            YES/NO              String         Required if 3rd
                                                                                                        party
    
    latitude                Current GPS Latitude                     YES/NO              Double
    
    longitude               Current GPS Longitude                    YES/NO              Double
    
    statusTime              Date and Time when the status was        YES                 UTC Time
                            reported
    
    reportedBy              Whether the status was reported by       Readonly            String         Set by the system
                            Driver, Dispatcher, or Agero
    
    etaStatus               Indicates the status of provided ETA     Readonly            ETAStatus      Set by the system
                                                                                                        Only available for
                                                                                                        current & accepted
                                                                                                        jobs. Null
                                                                                                        otherwise

###SpecialCircumstanceType  extends EnumerationType

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    code                    Provides unique identifier of the        YES                 String
                            circum stance type

    description             Description  of the circumstance         YES                 String

###Sample JSON

    {
        "code" : "1",
        "description" : "Severe Weather"
    }

    
###JobFilterType  extends EnumerationType

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------

    code                    Provides unique identifier of the job    YES                 String
                            filter
    
    description             Description  of the circumstance         YES                 String

###Sample JSON

    {
        "code" : "1",
        "description" : "All jobs"
    }
    
###JobStatusCodeType  extends EnumerationType

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    Code                    Provides unique identifier of the job    YES                 String
                            filter
    
    Description             Description  of the circumstance         YES                 String
    
    possibleReasons         Provides a list of reasons a job could   YES/NO              EnumerationType
                            be in a given status code
                            
###Sample JSON

    {
        "code" : "1",
        "description" : "All jobs",
        “possibleReasons”: [
        {
                        “code” : “1”,
                        "description" : “Do not accept payment type”
        },
        {
                        “code” : “2”,
                        "description" : “Proper equipment unavailable”
        },
        {
                        “code” : “3”,
                        "description" : “No longer offer service”
        },
        {
                        “code” : “4”,
                        "description" : “Out of my coverage area”
        },
        {
                        “code” : “5”,
                        "description" : “Other”
        },
        ]
    }

                            

###ETAStatus  Extends EnumerationType

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    code                    Represents unique code for the ETA       YES                 String
                            Status
    
    description             Description  of the ETA status           YES                 String
    
    riskSeverity            Indicates the severity level             YES                 Enumeration    Possible Values:
                                                                                                        Low
                                                                                                        Medium
                                                                                                        High
###Sample JSON

    {
        "code" : "201",
        "description" : "Job not placed in an In Route status within 30 minutes of  provided ETA",
        “riskSeverity”:”Medium”
    }

                                                                                                        
###DispatchSummary

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    date                    Represents the date the                  YES                 DATE
                            data is applicatble for
    
    day                     Represents the day of the                YES                 ENUM           Possible Value:
                            week corresponding to                                                       SUNDAY
                            the date the data is                                                        -
                            applicable for                                                              SATURDAY

    totalDispatchCount      Represents the total# of                 YES                 Integer
                            jobs for a given day
    
    dispatchCountBreakdown  Represents the                           YES                 DispatchCountBreakdown
                            breakdown of total                                           Item []
                            dispatch count by service
                            type
    
###Sample JSON

    {
        “date” : “11/11/2013”,
        “day” : “Monday”,
        "totalDispatchCount" : 26,
        " dispatchCountBreakdown" : [
        {
                        "service" : {
                                “code” : “1”,
                                “description”: “Door Unlock”
                        },   
                        “count” : 6,
        },
        {
                        "service" : {
                                “code” : “4”,
                                “description”: “Flat Tire”
                        },   
                        “count” : 5,
        },
        {
                        "service" : {
                                “code” : “8”,
                                “description”: “Tow”
                        },   
                        “count” : 15,
        }
        ]
    }

###Document

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    documentId              Represents the date the unique           YES                 String
                            identifier of the document 
    
    documentType            Represents the type of the               YES                 ENUM           Refer to
                            document                                                                    Document
                                                                                                        Type Enum
                                                                                                        for possible
                                                                                                        values
                                                                                                        
    lastModifiedDateTime    Represents the timestam p when           YES                 DateTime
                            the document was modified last
    
    documentUrl             Represents the URL where the             YES                 URL
                            document can be retrieved from

###Sample JSON

    {
        "documentId” : "532524",
        "documentName” : "Smith",
        "documentType" : "2",
        "lastUpdatedDateTime " : "12/21/2013 11:28 AM",
        "documentUrl" : "/dispatches/354235235/documents/532524"
    }


###UserGuide

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    userGuideId             Represents the date the unique           YES                 String
                            identifier of the userGuide
    
    userGuideTitle          Represents the title of the              YES                 String
                            userguide
    
    userGuideType           Represents the type of the               YES                 ENUM           Refer to
                            userGuide                                                                   UserGuide
                                                                                                        Type Enum
                                                                                                        for possible
                                                                                                        values                        
    
    lastModifiedDateTime    Represents the timestam p when           YES                 DateTime
                            the document was modified last
    
    userGuideUrl            Represents the URL of the                YES                 URL
                            document / video  where the
                            UserGuide can be retrieved from


###Sample JSON

    {
        "userGuideId” : "532524",
        "userGuideTitle” : "How to set p a new account",
        "userGuideType" : "2",
        "userGuideUrl" : "/dispatches/354235235/documents/532524"
    }


###Point

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    latitude                Represents latitude of the location      YES                 Double
    
    longitude               Represents longitude of the              YES                 Double
                            location

###Sample JSON

    {
        "lat” : 42.375286661105548,
        "lon” : -71.225446386661915
    }
                            
###RouteSummary

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    name                    Represents the name of the Route         YES                 String 

    distanceInMiles         Represents the distance of the           YES                 Double
                            route
                            
    timeInMinutes           Represents the expected travel           YES                 Double
                            time in minutes for the route
                            
    startLocation           Represents the starting location of      YES                 Point
                            the route
    
    endLocation             Represents the ending location of        YES                 Point
                            the route
                            
###Sample JSON

    {
        "name" : "Calculated Route",
        "distanceInMiles" : 14.253904686627958,
        "timeInMinutes" : 35.181666666666665,
        "startLocation" : {
                    "lat" : 42.375286,
                    "lon" : -71.225447
        },
        "endLocation" : {
                    "lat" : 42.407995,
                    "lon" : -71.074041
        }
    }


###Route

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    summary                 Represents the summary of the            YES                 RouteSummary
                            Route
    
    Points                  Represents the lat/long of the           YES                 Point[]
                            points along the route
    
    tbtDirections           Represents the turn by turn              YES                 String[]
                            directions of the route


###Sample JSON

    {
        "summary" : {
            "name" : "Calculated Route",
            "distanceInMiles" : 14.253904686627958,
            "timeInMinutes" : 35.181666666666665,
            "startLocation" : {
                        "lat" : 42.375286,
                        "lon" : -71.225447
            },
            "endLocation" : {
                        "lat" : 42.407995,
                        "lon" : -71.074041
            }
            "points" : [
                {
                "lat":42.375286661105548,
                "lon":-71.225446386661915
                },
                {
                "lat":42.375770799861584,
                "lon":-71.22572533641609
                },
                {
                "lat":42.375777505384548,
                "lon":-71.2252452209738
                },
                {
                "lat":42.377722107036249,
                "lon":-71.220807505894157
                },
                {
                "lat":42.365390650355266,
                "lon":-71.184639256277038
                },
                {
                "lat":42.358575156842193,
                "lon":-71.159344682654421
                },
                {
                "lat":42.353584906672523,
                "lon":-71.137460537997512
                },
                {
                "lat":42.353478959410126,
                "lon":-71.07147551008913
                },
                {
                "lat":42.351889750474072,
                "lon":-71.070685599487163
                },
                {
                "lat":42.355685076456382,
                "lon":-71.069141988107091
                },
                {
                "lat":42.355364552459974,
                "lon":-71.0728394134545
                },
                {
                "lat":42.357955566522804,
                "lon":-71.07252827719023
                },
                {
                "lat":42.3642386415147,
                "lon":-71.0699372631274
                },
                {
                "lat":42.371634833314118,
                "lon":-71.06741330429395
                },
                {
                "lat":42.390863590887989,
                "lon":-71.082939272102081
                },
                {
                "lat":42.392851107886486,
                "lon":-71.0841060330931
                },
                {
                "lat":42.404199534904933,
                "lon":-71.081870411745925
                },
                {
                "lat":42.404643440523358,
                "lon":-71.081144874164153
                },
                {
                "lat":42.404231721415016,
                "lon":-71.076121096379822
                },
                {
                "lat":42.404001051426008,
                "lon":-71.075229261829207
                },
                {
                "lat":42.406575972233782,
                "lon":-71.076681678097344
                },
                {
                 "lat":42.406778479026457,
                "lon":-71.074492995410736
                },
                {
                "lat":42.407010490120086,
                "lon":-71.074322675128144
                },
            ],
            "tbtDirections" : [
            "Start location: Depart '50 Centre St' and turn north.",
            "At end of 'Centre St', turn right onto 'Massasoit Ct'. Now traveling East for 0.05 miles.",
            "At end of 'Massasoit Ct', turn left onto 'Massasoit St'. Now traveling North for 0.02 miles.",
            "Take the fourth right onto 'Main St [US-20 W W/US-20 E E]'. Now traveling East for 0.31 miles.",
            "Note: Name changes to N Beacon St [US-20 E E].",
            "Road splits into two. Stay right for N Beacon St [US-20 E E]. Now traveling East for 3.50 miles.",
            "Note: Name changes to Brighton Ave [US-20 W W/US-20 E E].",
            "Turn right after Clarendon St [MA-28] onto 'Arlington St [MA-2]'. Now traveling South-East for 4.64 miles.",
            "Take the first left onto 'Boylston St [MA-2]'. Now traveling North-East for 0.12 miles.",
            "Take the first left onto 'Charles St S [MA-28/MA-2]'. Now traveling North-West for 0.39 miles.",
            "Take the second right onto 'David G Mugar Way [MA-28]'. Now traveling North-West for 0.21 miles.",
            "Note: Name changes to Embankment Rd [Storrow Dr/MA-28].",
            "Take ramp to I-93 N N. Now traveling North for 0.67 miles.",
            "Road splits into two. Stay right for Ramp. Now traveling North-West for 0.87 miles.",
            "Take exit 29 to Fellsway [MA-28]. Now traveling North for 1.66 miles.",
            "Road splits into two. Stay right for Ramp. Now traveling North-West for 0.15 miles.",
            "Road splits into two. Stay right. Now traveling North-East for 0.83 miles.",
            "Note: Name changes to Revere Beach Pkwy [MA-16].",
            "Take exit after 1/4 mi. Now traveling South-West for 0.31 miles.",
            "Take the third right. Now traveling South-West for 0.05 miles.",
            "Take the second right onto 'Cabot Rd'. Now traveling East for 0.25 miles.",
            "Take the first left onto 'Cabot Rd'. Now traveling North-West for 0.12 miles.",
            "End location, 'Cabot Rd' is on the left after about 160 yd."
            ]
        }
    }


###Vendor

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    vendorId                Unique Identifier of the Vendor          YES                 String         READ ONLY
    
    taxId                   Represents the unique TaxId of           YES                 String         READ ONLY
                            the vendor
                            
    name                    Vendor’s name                            YES                 String
    
    officephone             Represents the phone number              YES                 String
                            of the vendor
                            
    billingAddress          Represents the billing address           YES                 Location
                            of the Vendor
    
    corporationName         Represents the name of the               YES
                            corporation
                            
    ownerName               Represents the name of the               YES                 String
                            owner
                            
    vicePresidentName
    
    secretaryName
    
    businessType            Represents the type of                                       BusinessType
                            ownership of the vendor
    
    achAccountNumber        
    
    isTownetEnabled         Boolean indicator that                   YES                 Boolean
                            represents if the Vendor is
                            Towner Enabled or not
                            
    isIncorporated          Boolean indicator that                   YES                 Boolean
                            represents if the vendor is
                            incorporated
    
    isW9Provided            Boolean indicator that                   YES                 Boolean        READ ONLY
                            represents if there exists an
                            associated W9 form for the
                            Vendor
    
    facilities              Represents the list of Vendor            NO                  Facility[]     Only included in
                            Facilities                                                                  Deep response
                            
    equipments              Represents the list of distinct          NO                  Equipment[]    Only included in
                            vehicles / equipment owned by                                               Deep response
                            the Vendor across all the
                            facilities


###Sample JSON

####Shallow Sample

    {
        "vendorId":"35325235",
        "taxId":"36467457854885",
        "name":"ABC Towing",
        "officePhone":"555-555-1111",
        "billingAddress":{
            "address1":"22 Mazzeo Dr",
            "address2":"",
            "crossStreet":"",
            "landmark":"",
            "locationType":"",
            "city":"Randolph",
            "poi1":"",
            "poi2":"",
            "state":"MA",
            "postalCode":"02368",
            "lat":42.165312598068283,
            "lng":-71.0567153130004
        },
        "corporationName":"ABC Towing",
        "ownerName":"Douglas",
        "vicePresidentName":"John Smith",
        "secretaryName":"Ashley",
        "businessType":{
            "code":"SO",
            "description":"Sole Ownership",
        },
        "achAccountNumber":"46456456",
        "isTownEnabled":"True",
        "isIncorporated":"True",
        "isW9Provided":"True" 
    }
    
##Deep Sample
    
    {
            "vendorId":"35325235",
            "taxId":"36467457854885",
            "name":"ABC Towing",
            "officePhone":"555-555-1111",
            "billingAddress":{
                "address1":"22 Mazzeo Dr",
                "address2":"",
                "crossStreet":"",
                "landmark":"",
                "locationType":"",
                "city":"Randolph",
                "poi1":"",
                "poi2":"",
                "state":"MA",
                "postalCode":"02368",
                "lat":42.165312598068283,
                "lng":-71.0567153130004
            },
            "corporationName":"ABC Towing",
            "ownerName":"Douglas",
            "vicePresidentName":"John Smith",
            "secretaryName":"Ashley",
            "businessType":{
                "code":"SO",
                "description":"Sole Ownership",
            },
            "achAccountNumber":"46456456",
            "isTownEnabled":"True",
            "isIncorporated":"True",
            "isW9Provided":"True",
            "facilities":{
                "id":"14234",
                "name": "275 High Street",
                "address" : "275 High Street",
                "city" : "Medford",
                "state" : "MA",
                "zip" : "02155",
                "lat" : "42.0123",
                "lon" : "80.1153",
                "primaryEmailAddress" : "mloaria@thetowtruckco.com",
                "alternateEmailAddress” :null
                "contactInfo" : [
                {
                    "phoneNumber":"7813061232",
                    "contactType":{
                        "code":"FX",
                        "description":"Fax"
                    },
                    "hourType":"A",
                },
                {
                    "phoneNumber":"7813061232",
                    "contactType":{
                        "code":"PH",
                        "description":"Telephone"
                    },
                    "hourType":"A",
                },
                ],
                "insuranceInfo" : {
                    "companyName" : "Travelers Inc",
                    "policyNumber":"I680394W1184",
                    "insuranceType":{
                            "code”: "AL",
                            "desc”: "Automobile Liability"
                    }
                    "agentName”: null
                    "agentPhoneNumber”: "7813061632",
                    "effectiveDate”: "06/11/2007",
                    "expirationDate”: "06/11/2017",
                    "certificateHolder”: true
                },
                "equipments" : [
                {
                    "equipmentId”: "LDWL",
                    "addressId”: 1,
                    "type”: "Light Duty Wheel Lift"
                    "quantity”:5
                    "rates":[
                    {
                        “shiftType” : {
                            “code”:”ALL”,
                            “desc”:”24 hour”
                        },
                        “freeMilesToSite”:5.0,
                        “perMileAmountToSite”:2.0,
                        “hookupAmount”:22.5,
                        “freeMilesLoaded”:5,
                        “perMileAmountLoaded”:4.5,
                        “perHourAmount”:null,
                        “goaAmount”:15.0
                    },
                    {
                        “shiftType” : {
                            “code”:”ALL”,
                            “desc”:”24 hour”
                        },
                        “freeMilesToSite”:5.0,
                        “perMileAmountToSite”:2.0,
                        “hookupAmount”:22.5,
                        “freeMilesLoaded”:5,
                        “perMileAmountLoaded”:4.5,
                        “perHourAmount”:null,
                        “goaAmount”:15.0
                    
                    }
                    ]
                }
                ]
                "territories":[
                    {
                        "zipCode":"75056"
                    },
                    {
                        "zipCode":"75057"
                    }, 
                    {
                        "zipCode":"75065"
                    },
                    {
                        "zipCode":"75067"
                    },                
                ]
                "equipments":[
                    {
                        "equipmentId" : “LDWL”,
                        "type" : “Light Duty Wheel Lift”
                    }
                ]
                }
            }
        }


    
###SecurityQuestion  extends EnumerationType

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    code                    Provides unique identifier of the        YES                 String
                            circum stance type
                            
    description             Description  of the circumstance         YES                 String
    
###Sample JSON
    
     {
        "code” : "1",
        "description” : "What is your mother’s maiden name?"
     }

    
###IdentityInfo

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    securityQuestion        Represents the  security                 YES                 SecurityQuestion
                            Question
                            
    securityAnswer          Represents the answer enetered           YES/NO              String         WRITE Only. Not
                            by the user                                                                 available as part
                                                                                                        of GET request

###Sample JSON

    {
        "securityQuestion" :
        {
                    "code” : "1",
                    "description” : "What is your mother’s maiden name?"
        }
        "securityAnswer" : "Owner200"
    }


###Security Info

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    username                Represents the user name of the          YES                 String
                            user
    
    Password                Represents the password of the           YES/NO              String         Required in POST.
                            user                                                                        WRITE Only. Not
                                                                                                        available as part
                                                                                                        of GET request
    
    role                    Represents the role user                 YES                 UserRoleType
                            belongs to
    
    IdentityQuestionnaire   Represents the identity                  YES                 IdentityInfo[]
                            Questionnaire of the user

###Sample JSON

    {
        "username" : "John Smith",
        "password" : ”xxxxxxxxx”,
        "role" : "",
        "identityQuestionnaire" : [
        {
                    "securityQuestion" :
                    {
                        "code" : "1",
                        "description" : " What is your mother’s maiden name? "
                    },
                    "securityAnswer" : "Owner200"
        },
        {
                    "securityQuestion" :
                    {
                        "code" : "1",
                        "description" : " What is your mother’s maiden name? "
                    },
                    "securityAnswer" : "Birmingham"
        },
        ]
    }


    
###Profile

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    userInfo                User’s Personal and Office Info          YES                 UserInfo
    
    preferences             User’s application preferences           NO                  Preferences
    
    facilities              Represents a list of Facilities          YES                 Facility[]     While trying to
                            user is associated with                                                     create a profile,
                                                                                                        just IDs need to
                                                                                                        be provided
                            
    equipment               Represents the vehicle /                 YES                 Driver         This is applicable
                            equipment assigned to user                                   Equipment      only if the
                                                                                                        user(could be an
                                                                                                        Owner,Manager,
                                                                                                        Dispatcher) acts
                                                                                                        as a Driver
                                                                                                        

###Sample JSON

    {
        "userInfo" : {
                "name" : "Jon Doe",
                "cellPhone" : "555-555-5555",
                "email" : "jdoe@gmail.com”,
                "officeEmail" : "jdoe@abctowing.com",
                "officePhone" : "555-555-1111"
        },
        "preferences" : {
                "jobFilter" : 1,
                "jobViewOpt" : “Service, Address, City”,
                "gpsTracking" : “true”,
                "etaAlerts" : “true”,
                "inactivityAlert" : “true”,
                "autoAssignAllJobs" : “false”
        },
        "facilities" : [
                {
                        "id":”1”,
                        "name" : "Douglas Transport-ASM”,
                        "address" :"275 High Street”,
                        "city" : "Medford",
                        "state" : "MA",
                        "zip" : "02155",
                        "lat" : "42.0123",
                        "lon" : "80.1153"
                },
                {
                        "id":”2”,
                        "name" : "Douglas Transport-ASM”,
                        "address" :"275 High Street”,
                        "city" : "Medford",
                        "state" : "MA",
                        "zip" : "02155",
                        "lat" : "42.0123",
                        "lon" : "80.1153"
                }
        ],
        "equipment" : {
                "equipmentId" : "LDWL",
                "addressId" : 1,,
                "type" : "Light Duty Wheel Lift",
                "vehicleNickname" : "blue truck",
                "equipmentPictureUrl" :  "/vendors/23424/drivers/24234/driverEquipment/picture"
        },
        
        
    }


                                                                                                        
###User

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    id                      Represents the unique identifier         YES                 String         This is available
                            of the user                                                                 only as part of
                                                                                                        GET requests
    
    profile                 Represents the profile of the            YES                 userInfo
                            user which includes userinfo &              
                            user preferences
    
    securityInfo            Represents the security                  YES                 SecurityInfo
                            information including
                            username, password, security


###Sample JSON

    {
        "id":"9798797"
        "profile":{
                "userInfo" : {
                        "name" : "Jon Doe",
                        "cellPhone" : "555-555-5555",
                        "email" : "jdoe@gmail.com”,
                        "officeEmail" : "jdoe@abctowing.com",
                        "officePhone" : "555-555-1111"
                },
                "preferences" : {
                        "jobFilter" : 1,
                        "jobViewOpt" : “Service, Address, City”,
                        "gpsTracking" : “true”,
                        "etaAlerts" : “true”,
                        "inactivityAlert" : “true”,
                        "autoAssignAllJobs" : “false”
                },
                "facilities" : [
                        {
                                "id":”1”,
                                "name" : "Douglas Transport-ASM”,
                                "address" :"275 High Street”,
                                "city" : "Medford",
                                "state" : "MA",
                                "zip" : "02155",
                                "lat" : "42.0123",
                                "lon" : "80.1153"
                        },
                        {
                                "id":”2”,
                                "name" : "Douglas Transport-ASM”,
                                "address" :"275 High Street”,
                                "city" : "Medford",
                                "state" : "MA",
                                "zip" : "02155",
                                "lat" : "42.0123",
                                "lon" : "80.1153"
                        }
                ],
                "equipment" : {
                        "equipmentId" : "LDWL",
                        "addressId" : 1,,
                        "type" : "Light Duty Wheel Lift",
                        "vehicleNickname" : "blue truck",
                        "equipmentPictureUrl" :  "/vendors/23424/drivers/24234/driverEquipment/picture"
                },
        },
        "securityInfo":{
                "username":"JohnSmith",
                "password":”xxxxxxxxx”,
                "role":"",
                "identityQuestionnaire" : [
                        {
                                "securityQuestion":{
                                        code":"1",
                                        "description":" What is your mother’s maiden name? "
                                }
                                "securityAnswer":"Owner200"
                        },
                        {
                                "securityQuestion":{
                                        code":"1",
                                        "description":" What is your mother’s maiden name? "
                                }
                                "securityAnswer":"Owner200"
                        },
                ],
        },
    }

    
###UserInvitation Extends User

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    Status                  Represents the status of the             YES                 UserInvitation Possible Values:
                            user Invitation                                              Status         Pending
                                                                                                        Viewed
                                                                                                        Accepted
                                                                                                        
###Sample JSON

    {
        "id":"9798797"
        "profile":{
                "userInfo" : {
                        "name" : "Jon Doe",
                        "cellPhone" : "555-555-5555",
                        "email" : "jdoe@gmail.com”,
                        "officeEmail" : "jdoe@abctowing.com",
                        "officePhone" : "555-555-1111"
                },
                "preferences" : {
                        "jobFilter" : 1,
                        "jobViewOpt" : “Service, Address, City”,
                        "gpsTracking" : “true”,
                        "etaAlerts" : “true”,
                        "inactivityAlert" : “true”,
                        "autoAssignAllJobs" : “false”
                },
                "facilities" : [
                        {
                                "id":”1”,
                                "name" : "Douglas Transport-ASM”,
                                "address" :"275 High Street”,
                                "city" : "Medford",
                                "state" : "MA",
                                "zip" : "02155",
                                "lat" : "42.0123",
                                "lon" : "80.1153"
                        },
                        {
                                "id":”2”,
                                "name" : "Douglas Transport-ASM”,
                                "address" :"275 High Street”,
                                "city" : "Medford",
                                "state" : "MA",
                                "zip" : "02155",
                                "lat" : "42.0123",
                                "lon" : "80.1153"
                        }
                ],
                "equipment" : {
                        "equipmentId" : "LDWL",
                        "addressId" : 1,,
                        "type" : "Light Duty Wheel Lift",
                        "vehicleNickname" : "blue truck",
                        "equipmentPictureUrl" :  "/vendors/23424/drivers/24234/driverEquipment/picture"
                },
        },
        "securityInfo":{
                "role":{
                    "code":"1"
                },
                "status" : {
                
                    "code":"1",
                    "description":"Pending",
                }
    }
        
    
###Rate

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    shiftType               Indicates the shift type                 YES                 ShiftType      Refer to shiftType
                                                                                                        enum for possible
                                                                                                        value
                                                                                                        
    freeMilesToSite         Indicates the # of frre miles            NO                  Double
                            allowed to site
    
    perMileAmountToSite     Indicates the $ amount per               NO                  Double
                            additional mile to site
                            
    hookupAmount            Indicates the $ amount for hook          NO                  Double
                            up
                            
    freeMilesLoaded         Indicates the # of free miles            NO                  Double
                            allowed for loading
                            
    perMileAmountLoaded     Indicates the $ amount per               NO                  Double
                            additional mile loaded
                            
    perHourAmount           Indicates the charge per hour            NO                  Double
    
    goaAmount               Indicates the charge that would          NO                  Double
                            be claimed for gone on arrival
                            
    effectiveDate           Represents the date the rate is          YES                 Date
                            effective from
    
###Sample JSON

    {
        "shiftType":{
            “code”:”ALL”,
            “desc”:”24 hour”
        },
        “freeMilesToSite”:5.0,
        “perMileAmountToSite”:2.0,
        “hookupAmount”:22.5,
        “freeMilesLoaded”:5,
        “perMileAmountLoaded”:4.5,
        “perHourAmount”:null,
        “goaAmount”:15.0
    }
    
###InsuranceInfo

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    companyName             Represents the name of the               YES                 String
                            company that underwrote the
                            insurance
                            
    policyNumber            Represents the insurance                 YES                 String
                            policy number
                            
    insuranceType           Represents the type of the               YES                 InsuranceCover Refer to 
                            insurance                                                    ageType        InsuranceType
                                                                                                        Enum for
                                                                                                        possible Values
                            
    agentName               Represents the name of the               NO                  String
                            Agent that underwrote the
                            insurance
                            
    agentPhoneNumber        Represents the ph# of the                NO                  String         xxxxxxxxxx
                            Agent                                                                       format
                            
    effectiveDate           Represents the effective date            YES                 Date
                            of the insurance
    
    expirationDate          Represents the expiration date           YES                 Date
                            of the insurance
                            
    certificateHolder       Indicates the Vendor holds the           NO                  Boolean
                            certificate or not
                            

###Sample JSON

    {
        “companyName” : “Travelers Inc”,
        “policyNumber”:” I680394W1184”,
        "insuranceType":{
            “code”:”AL”,
            “desc”:”Automobile Liability”
        },
        “agentName”:null,
        “agentPhoneNumber”:”7813061632”,
        “effectiveDate”:”06/11/2007”,
        “expirationDate”:”06/11/2017”,
        “certificateHolder”:true
    }


###FacilityPreferences

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    eDispatchJobConfirmation                                         YES                 Boolean
    
    ivrDispatchOptOut                                                YES                 Boolean


###Sample JSON

    {
        "eDispatchJobConfirmation":True,
        "ivrDispatchOptOut":True
    }


###EquipmentShift  extends EnumerationType

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    code                    Provides unique identifier of the        YES                 String
                            circum stance type
    
    description             Description  of the circumstance         YES                 String

###Sample JSON

    {
        “code” : “DAY”,
        “description”:”M-F Day”
    }

    
###Territory

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    zipCode                 Represents the zip code that defines     YES                 String
                            the territory

###Sample JSON

    {
        "zipCode":"01702"
    }
                            

###ContactInfo

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    phoneNumber             Represents  the ph#                      YES                 String         Xxxxxxxxxxx
                                                                                                        format
    
    contactType             Represents the type of the contact       YES                 PhoneType
                            Some of which include: Phone, Fax, 
                            Mobile Phone…
    
    hourType                Represents the hour the ph# is valid     YES                 HourType
                            for

###Sample JSON
    
    {
        "phoneNumber":"7813061232",
        "contactType":{
                "code":"FX",
                "description":"Fax"
        }
        "hourType":"A"
    }



###HourType  extends EnumerationType

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    code                    Provides unique identifier of the hour   YES                 String
                            type
                            
    description             Description  of the hour type            YES                 String




###InsuranceCoverageType  extends EnumerationType

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    code                    Provides unique identifier of the hour   YES                 String
                            type
    
    description             Description  of the hour type            YES                 String
    

###Sample JSON

    {
        “code” : “PC”,
        “description”:”Property & Casualty”
    }



###BusinessUnitType  extends EnumerationType

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    code                    Provides unique identifier of the hour   YES                 String
                            type
                            
    description             Description  of the hour type            YES                 String

###Sample JSON
    
    {
        “code” : “ASM”,
        “description”:”Accident Scene Management”
    }



###PerformanceCategoryType  extends EnumerationType

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    code                    Provides unique identifier of the        YES                 String
                            Performance category
    
    description             Description  of the performance          YES                 String
                            category
                            
###Sample JSON

    {
        “code” : “1”,
        “description”:”Technology”
    }
                            
    

###KPIMetricType  extends EnumerationType

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    Code                    Provides unique identifier of the        YES                 String
                             hour type
                             
    Description             Description  of the hour type            YES                 String
    
    goal                    Represents the recommended value         YES                 String
                            for the metric
    
    goalUnit                Represents the units of the goal value   YES                 String         Ex: Percentage,
                                                                                                        Mins
                                                                                                        
    goalSign                


###Sample JSON

    {
        “code” : “6”,
        “description”:”Call Acceptance”,
        “goal”:”90”,
        “goalUnits”:”Percentage”,
        “goalDirection”:”Upwards”
    }
    

###KPIMetric

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    type                    Represents  the type of the metric       YES                 KPIMetricType
    
    value                   Represents the metric value              YES                 String

###Sample JSON

    {
        "type":{
                “code” : “6”,
                “description”:”Call Acceptance”,
                “goal”:”90”,
                “goalUnits”:”Percentage”,
                “goalDirection”:”Upwards”
        },
        "value":"80"
    }

                            
###PerformanceData

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    businessUnit            Represents  the code the business Unit   YES                 String
                            the performance data applies for
                            
    serviceType             Represents the type of the service  the  YES                 
                            performance data applies for
    
    metrics                 List of KPI metrics                      YES                 KPIMetric[]

###Sample JSON

    {
        "businessUnit":{
                “code” : “ASM”,
                “description”:”Accident Scene Management”
        },
        "serviceType":"FX",
        "metrics":{
                “type” : {
                “code” : “6”,
                “description”:”Call Acceptance”,
                “goal”:”90”,
                “goalUnits”:”Percentage”,
                “goalDirection”:”Upwards”
                },
                "value":"80"
        },
    }



###UserInvitationStatusType  extends EnumerationType

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    code                    Provides unique identifier of the hour   YES                 String
                            type
                            
    description             Description  of the hour type            YES                 String
    
###Sample JSON

    {
        “code” : “0”,
        “description”:”All”
    }
    
        

###ETAExtensionReason  Extends EnumerationType

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    code                    Represents unique code for the ETA       YES                 String
                            Extension Reason
                            
    description             Description  of the ETA Extension        YES                 String
                            Reason
                            
###Sample JSON

    {
        “code” : “1”,
        “description”:”Prior Job Delayed”
    }                            

###ServiceType  extends EnumerationType

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    code                    Provides unique identifier of the        YES                 String
                            service type
                            
    description             Description  of the hour type            YES                 String
    
###Sample JSON

    {
        “code” : “1”,
        “description”:”Door Unlock ”
    }  

###DispatchCountBreakdownItem

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    service                 Represents the service                   YES                 Double         READ ONLY
                            type                                                                        DOES NOT
                                                                                                        INCLUDE BASE
                                                                                                        URI
                            
    lastUpdatedAt           Represents the timestamp at              YES                 DateTime       READ ONLY
                            which the picture was last
                            provided / updated at
    

###Sample JSON

    {
        "service":{
                “code” : “1”,
                “description”:”Door Unlock”
        },
        "count": 5
    }

###UserInvitationStatus  extends EnumerationType

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    code                    Provides unique identifier of the        YES                 String
                            invitation status
                            
    description             Description  of the hour type            YES                 String

###Sample JSON

    {
        “code” : “1”,
        “description”:”Door Unlock ”
    }  
    

###BusinessType  extends EnumerationType

    Schema Property         Description                              Is Required         Type           Business Rules 
    ---------------         -----------                              -----------         ----           --------------
    
    code                    Provides unique identifier of the        YES                 String
                            invitation status
                            
    description             Description  of the hour type            YES                 String
    
###Sample JSON

    {
        “code” : “1”,
        “description”:”Door Unlock ”
    }  
        
        
###TrendData 

    Schema Property         Description                               Is Required         Type           Business Rules 
    ---------------         -----------                               -----------         ----           --------------
    
    category                Represents the category of the trend data   YES               TrendDataType
                            
    data                    Represents the data                         YES               TrendDataItem[]
    
###Sample JSON

    {
        "category":{
            "code":"1",
            "description":"calls"
            },
        "data":[
            {
            "month":"Feb 13",
            "value":"275"
            },
            {
            "month":"Mar 13",
            "value":"250"
            },
            {
            "month":"Apr 13",
            "value":"125"
            },
            .
            .
            .
            {
            "month":"Feb 14",
            "value":"300"
            },
        ]
    }  
    
###TrendDataItem 

    Schema Property         Description                               Is Required         Type           Business Rules 
    ---------------         -----------                               -----------         ----           --------------
    
    month                  Represents the category of the trend data    YES               String         MMM YY format
                            
    value                  Represents the data                          YES               String
    
###Sample JSON

    {
        "month":"Feb 13",
        "value":"275"
    }  
    
###TrendCategoryType extends EnumerationType

    Schema Property         Description                               Is Required         Type           Business Rules 
    ---------------         -----------                               -----------         ----           --------------
    
    code                   Provides unique identifier of the            YES               String         
                           Performance category
                           
    description            Description of the performance category      YES               String
    
###Sample JSON

    {
        “code” : “1”,
        “description”:”Calls”
    }  
    
###PerformanceDataItem

    Schema Property         Description                               Is Required         Type           Business Rules 
    ---------------         -----------                               -----------         ----           --------------
    
    performanceCategory     Represents the category of the             YES                PerformanceCategoryType         
                            performance data 
                           
    metrics                 Represents the performance metrics         YES                KPIMetric[]
    
###Sample JSON

    {
       "performanceCategory":{
        "code":"PERF",
        "description":"Performance"
        }
        "metrics":[
        {
        "type":":{
        "code":"6",
        "description":"Call Acceptance"
        "mesaurementUnit":"Percentage",
        "goalThreshholdType":"MIN"
        },
        "value":90,
        "goal":95
        },
        .
        .
        .
        {
        "type":":{
        "code":"6",
        "description":"GOA"
        "mesaurementUnit":"Percentage",
        "goalThreshholdType":"MAX"
        },
        "value":4,
        "goal":5
        },
        ]
        }
    }  
      
      
###Claim

    Schema Property           Description                               Is Required         Type           Business Rules 
    ---------------           -----------                               -----------         ----           --------------
    
    vendorId                  Vendor identification number                YES              String
    
    poNumber                  PO number                                                    String
    
    serviceType               Service type                                                 String
    
    serviceDate               Service date                                                 DateTime
   
    recievedDate              Date claim received                                          DateTime                                 
   
    equipmentType             Equipment type                                               String
   
    odometer                  Odometer value                                               String
   
    vin                       Vehicle identification number                                String
  
    milesToSite               Number of miles to site                                      Double     
   
    memberNumber              Customer number                                              String
   
    memberFirstName           Customer first name                                          String
   
    memberMiddleName          Customer middle name                                         String
   
    memberLastName            Customer last name                                           String 
   
    actualHours               Number of hours for service                                  String
   
    submittedAmount           Submittted amount for service                                String
   
    paidAmount                Actual paid amount                                           String
   
    invoiceNumber             Customer provided invoice number                             String
  
    comments                  Additional comments                                          String
   
    status                    Claim status                                                 String
   
    adjustments               List of adjustments for claim                                String
   
    additionalCharge1Service  Addtl. service type                                          String
    
    additionalCharge1Amount   Addtl charge amount                                          String
   
    additionalCharge2Service  Addtl. service type                                          String
   
    additionalCharge2Amount   Addtl charge amount                                          String
   
    additionalCharge3Service  Addtl. service type                                          String
   
    additionalCharge3Amount   Addtl charge amount                                          String
   
    additionalCharge4Service  Addtl. service type                                          String
    
    additionalCharge4Amount   Addtl charge amount                                          String
   
    additionalCharge5Service  Addtl. service type                                          String
   
    additionalCharge5Amount   Addtl charge amount                                          String
    
###Sample JSON

    {
        "vendorID": ”98765”,
        "poNumber": "909642214",
        "serviceType": null,
        "serviceDate": "2012-10-17T11:48:44",
        "receivedDate": "0001-01-01T00:00:00",
        "equipmentType": null,
        "odometer": null,
        "vin": null,
        "milesToSite": null,
        "milesTowed": null,
        "memberNumber": null,
        "memberFirstName": null,
        "memberMiddleName": null,
        "memberLastName": null,
        "actualHours": null,
        "submittedAmount": null,
        "paidAmount": null,
        "invoiceNumber": null,
        "comments": null,
        "status": null,
        "adjustments": null,
        "additionalCharge1Service": null,
        "additionalCharge1Amount": null,
        "additionalCharge2Service": null,
        "additionalCharge2Amount": null,
        "additionalCharge3Service": null,
        "AdditionalCharge3Amount": null,
        "additionalCharge4Service": null,
        "additionalCharge4Amount": null,
        "additionalCharge5Service": null,
        "additionalCharge5Amount": null
    }
    
###ClaimDataProcessResponse

    Schema Property           Description                               Is Required         Type           Business Rules 
    ---------------           -----------                               -----------         ----           --------------
    
    count                     Total number of processed Claim                              String
    
    numberOfSuccess           Total number of successful processed claims                  String
    
    numberOfFailure           Total number of failed processed claims                      String
                              Dispatch zip code                                               
    
    results                   List of ClaimDataProcess entities                            ClaimDataProcess[]
                                
###Sample JSON

    {
        "count":60,
        "numberOfSuccess":50,
        "numberOfFailure":10,
        "results":
        [
            {
            "vendorID": ”98765”,
            "poNumber": "387321420",
            "status": "NV",
            "responseMessage": "This claim has been processed previously."
            },
            {
            "vendorID": ”98765”,
            "poNumber": "387321423",
            "status": "NV",
            "responseMessage": "This claim has been processed previously."
            }
        ]
    }

###Adjustment

    Schema Property           Description                               Is Required         Type           Business Rules 
    ---------------           -----------                               -----------         ----           --------------
    
    adjustmentReason          Adjustment reason                         String
    
    adjustmentAmount          Adjustment amount                         String
                                
###Sample JSON

    {
        "adjustmentReason": "Adjusted to your Rates - Audit",
        "adjustmentAmount": "82"
    }
    
###Check

    Schema Property           Description                               Is Required         Type           Business Rules 
    ---------------           -----------                               -----------         ----           --------------
    
    vendorId                   Vendor identification number                                  String
    
    checkNumber                Check number                                                  String
    
    poNumber                   PO number                                                     String
    
    invoiceNumber              Invoice number                                                String
    
    checkDate                  Check issue date                                              DateTime
    
    serviceDate                Service date                                                  DateTime
    
    submitDate                 Claims submission date                                        DateTime
    
    amount                     Total amount paid on check                                    Double
    
    numberofCalls              Number of claims                                              Integer
    
    status                     Status of the check                                           string
    
    adjustments                List of adjustments for check Error!                          Reference source not found.[]
   
###Sample JSON

    {
        "vendorID": ”98765”,
        "checkNumber": "4953931",
        "poNumber": null,
        "invoiceNumber": null,
        "checkDate": "2012-12-11T12:52:32",
        "serviceDate": "0001-01-01T00:00:00",
        "submitDate": "0001-01-01T00:00:00",
        "amount": "268",
        "numberOfCalls": "7",
        "status": "Paid",
        "adjustments": null
    }  
    
###FeedbackCategoryType extends EnumerationType

    Schema Property           Description                               Is Required         Type           Business Rules 
    ---------------           -----------                               -----------         ----           --------------
    
    code                      Provides unique identifier of the         YES                 String
                              Performance category
                              
    description               Description of the performance category   YES                 String         READ ONLY
    
###Sample JSON

    {
        “code” : “1”,
        “description”:”Job Details”
    } 
    
###FeedbackSubjectType extends EnumerationType

    Schema Property           Description                               Is Required         Type           Business Rules 
    ---------------           -----------                               -----------         ----           --------------
    
    code                      Provides unique identifier of the         YES                 String
                              Performance category
                              
    description               Description of the performance category   YES                 String         READ ONLY
    
###Sample JSON

    [
        {
        "code": ”1”,
        "description": ”Customer Info”
        },
        {
        "code": ”2”,
        "description": ”Vehicle Info”
        },
        {
        "code": ”3”,
        "description": ”Service Needed Info”
        },
        {
        "code": ”4”,
        "description": ”Equipment Info”
        },
        {
        "code": ”5”,
        "description": ”Address Info”
        },
        {
        "code": ”6”,
        "description": ”Suggestion”
        },
        {
        "code": ”7”,
        "description": ”Question”
        },
        {
        "code": ”8”,
        "description": ”Compliment”
        },
        {
        "code": ”9”,
        "description": ”Other”
        },
        {
        "code": ”10”,
        "description": ”Maps”
        },
        {
        "code": ”11”,
        "description": ”signatures”
        },
        {
        "code": ”12”,
        "description": ”Status Info”
        },
        {
        "code": ”13”,
        "description": ”Job Offer Functionality”
        },
        {
        "code": ”14”,
        "description": ”Driver Assignment”
        },
        {
        "code": ”15”,
        "description": ”Contacting Agero via Phone”
        },
        {
        "code": ”16”,
        "description": ”Agent Interaction”
        }
    ]
    
###FeedbackOptionBranch

    Schema Property           Description                               Is Required         Type           Business Rules 
    ---------------           -----------                               -----------         ----           --------------
    
    feedbackCategory          Represents the root level option           YES                FeedbackCategoryType
                              
    feedbackSubjects          Represents the sub level options           YES                FeedbackSubjectType
    
###Sample JSON

    {
        "feedbackCategory": {
        "code": ”1”,
        "description": ”Job Details”
        },
        "feedbackSubjects": [
        {
        "code": ”1”,
        "description": ”Customer Info”
        },
        {
        "code": ”2”,
        "description": ”Vehicle Info”
        },
        {
        "code": ”3”,
        "description": ”Service Needed Info”
        },
        {
        "code": ”4”,
        "description": ”Equipment Info”
        },
        {
        "code": ”5”,
        "description": ”Address Info”
        },
        {
        "code": ”6”,
        "description": ”Suggestion”
        },
        {
        "code": ”7”,
        "description": ”Question”
        },
        {
        "code": ”8”,
        "description": ”Compliment”
        },
        {
        "code": ”9”,
        "description": ”Other”
        }
        ]
    }
    
###FeedbackPost

    Schema Property           Description                               Is Required         Type           Business Rules 
    ---------------           -----------                               -----------         ----           --------------
    
    id                        Represents the unique identifier of the                       String         READ ONLY
                              feedback post
                              
    category                  Represents the root level option          YES                 FeedbackCategoryType
    
    subject                   Represents the sub level option           YES                 FeedbackSubjectType
    
    message                   Represents the feedback comment           YES                 String         1000 character limit
    
    poNumber                  Represents the unique identifier of       YES/NO              String         Required for for JobDetails
                              the dispatch                                                                 Feedback.Not available 
                                                                                                           otherwise
                                                                                                           
    submittedOn               Represents the timestamp the feedback is  YES                 DateTime        UTC format READ ONLY
    
    vendorId                  Represents the unique identifier of the   YES                 String          READ ONLY 
    
    submittedBy               Represents the name of the submitter      String                              READ ONLY
    
    submittersEmailAddress    Represents the emailAddress of the        YES                 String          READONLY
                              submitter
    
###Sample JSON

    {
        "id":”3346456”,
        "category": {
        "code": ”1”,
        },
        "subject":
        {
        "code": ”1”,
        },
        "message": "This is a test comment" ,
        "submittedOn": "This is a test comment" ,
        "submittedBy": "Protow"
        "submittersEmailAddress": "protow@protowdp.com"
    }